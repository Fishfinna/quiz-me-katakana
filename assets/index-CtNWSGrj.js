var Mn=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports);var bo=Mn((ko,pr)=>{(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=t(a);fetch(a.href,i)}})();const wt=!1;var $t=Array.isArray,En=Array.prototype.indexOf,ft=Array.from,Dt=Object.defineProperty,Jr=Object.getOwnPropertyDescriptor,Rt=Object.getOwnPropertyDescriptors,Bt=Object.getPrototypeOf;const $e=()=>{};function xn(e){return e()}function Qr(e){for(var r=0;r<e.length;r++)e[r]()}const ie=2,qt=4,cr=8,vt=16,me=32,Xe=64,Er=128,De=256,xr=512,Q=1024,Me=2048,Re=4096,_e=8192,er=16384,Cn=32768,Dr=65536,jt=1<<17,Sn=1<<19,Ut=1<<20,Je=Symbol("$state"),Tn=Symbol("legacy props"),An=Symbol("");function zt(e){return e===this.v}function Wt(e,r){return e!=e?r==r:e!==r||e!==null&&typeof e=="object"||typeof e=="function"}function Vt(e){return!Wt(e,this.v)}function On(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function In(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Pn(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ln(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Fn(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Nn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let fr=!1,$n=!1;function Dn(){fr=!0}const Rn=1,Bn=2,qn=16,jn=1,Un=2,zn=1,Wn=2,Vn=Symbol();function Cr(e,r){var t={f:0,v:e,reactions:null,equals:zt,rv:0,wv:0};return t}function dt(e,r=!1){var n;const t=Cr(e);return r||(t.equals=Vt),fr&&U!==null&&U.l!==null&&((n=U.l).s??(n.s=[])).push(t),t}function G(e,r=!1){return Hn(dt(e,r))}function Hn(e){return q!==null&&!we&&q.f&ie&&(pe===null?ta([e]):pe.push(e)),e}function yr(e,r){return B(e,ce(()=>f(e))),r}function B(e,r){return q!==null&&!we&&dr()&&q.f&(ie|vt)&&(pe===null||!pe.includes(e))&&Nn(),Sr(e,r)}function Sr(e,r){return e.equals(r)||(e.v,e.v=r,e.wv=fn(),Ht(e,Me),dr()&&R!==null&&R.f&Q&&!(R.f&(me|Xe))&&(be===null?na([e]):be.push(e))),r}function Ht(e,r){var t=e.reactions;if(t!==null)for(var n=dr(),a=t.length,i=0;i<a;i++){var s=t[i],v=s.f;v&Me||!n&&s===R||(fe(s,r),v&(Q|De)&&(v&ie?Ht(s,Re):zr(s)))}}let Kt=!1;function kt(e){return e!==null&&typeof e=="object"&&Je in e?e[Je]:e}function Kn(e,r){return Object.is(kt(e),kt(r))}var Mt,Yt,Zt;function Yn(){if(Mt===void 0){Mt=window;var e=Element.prototype,r=Node.prototype;Yt=Jr(r,"firstChild").get,Zt=Jr(r,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function ht(e=""){return document.createTextNode(e)}function Tr(e){return Yt.call(e)}function Rr(e){return Zt.call(e)}function P(e,r){return Tr(e)}function Le(e,r){{var t=Tr(e);return t instanceof Comment&&t.data===""?Rr(t):t}}function L(e,r=1,t=!1){let n=e;for(;r--;)n=Rr(n);return n}function Zn(e){e.textContent=""}function Br(e){var r=ie|Me;R===null?r|=De:R.f|=Ut;var t=q!==null&&q.f&ie?q:null;const n={children:null,ctx:U,deps:null,equals:zt,f:r,fn:e,reactions:null,rv:0,v:null,wv:0,parent:t??R};return t!==null&&(t.children??(t.children=[])).push(n),n}function Ar(e){const r=Br(e);return r.equals=Vt,r}function Gt(e){var r=e.children;if(r!==null){e.children=null;for(var t=0;t<r.length;t+=1){var n=r[t];n.f&ie?_t(n):ke(n)}}}function Gn(e){for(var r=e.parent;r!==null;){if(!(r.f&ie))return r;r=r.parent}return null}function Jt(e){var r,t=R;ge(Gn(e));try{Gt(e),r=dn(e)}finally{ge(t)}return r}function Qt(e){var r=Jt(e),t=(Fe||e.f&De)&&e.deps!==null?Re:Q;fe(e,t),e.equals(r)||(e.v=r,e.wv=fn())}function _t(e){Gt(e),ur(e,0),fe(e,er),e.v=e.children=e.deps=e.ctx=e.reactions=null}function Xt(e){R===null&&q===null&&Pn(),q!==null&&q.f&De&&In(),gt&&On()}function Jn(e,r){var t=r.last;t===null?r.last=r.first=e:(t.next=e,e.prev=t,r.last=e)}function rr(e,r,t,n=!0){var a=(e&Xe)!==0,i=R,s={ctx:U,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|Me,first:null,fn:r,last:null,next:null,parent:a?null:i,prev:null,teardown:null,transitions:null,wv:0};if(t){var v=Ge;try{xt(!0),Ur(s),s.f|=Cn}catch(M){throw ke(s),M}finally{xt(v)}}else r!==null&&zr(s);var h=t&&s.deps===null&&s.first===null&&s.nodes_start===null&&s.teardown===null&&(s.f&(Ut|Er))===0;if(!h&&!a&&n&&(i!==null&&Jn(s,i),q!==null&&q.f&ie)){var _=q;(_.children??(_.children=[])).push(s)}return s}function en(e){const r=rr(cr,null,!1);return fe(r,Q),r.teardown=e,r}function Et(e){Xt();var r=R!==null&&(R.f&me)!==0&&U!==null&&!U.m;if(r){var t=U;(t.e??(t.e=[])).push({fn:e,effect:R,reaction:q})}else{var n=vr(e);return n}}function Qn(e){return Xt(),tr(e)}function Xn(e){const r=rr(Xe,e,!0);return(t={})=>new Promise(n=>{t.outro?Or(r,()=>{ke(r),n(void 0)}):(ke(r),n(void 0))})}function vr(e){return rr(qt,e,!1)}function Xr(e,r){var t=U,n={effect:null,ran:!1};t.l.r1.push(n),n.effect=tr(()=>{e(),!n.ran&&(n.ran=!0,B(t.l.r2,!0),ce(r))})}function rn(){var e=U;tr(()=>{if(f(e.l.r2)){for(var r of e.l.r1){var t=r.effect;t.f&Q&&fe(t,Re),nr(t)&&Ur(t),r.ran=!1}e.l.r2.v=!1}})}function tr(e){return rr(cr,e,!0)}function he(e,r=[],t=Br){const n=r.map(t);return qr(()=>e(...n.map(f)))}function qr(e,r=0){return rr(cr|vt|r,e,!0)}function Qe(e,r=!0){return rr(cr|me,e,!0,r)}function tn(e){var r=e.teardown;if(r!==null){const t=gt,n=q;Ct(!0),Ae(null);try{r.call(null)}finally{Ct(t),Ae(n)}}}function nn(e){var r=e.deriveds;if(r!==null){e.deriveds=null;for(var t=0;t<r.length;t+=1)_t(r[t])}}function an(e,r=!1){var t=e.first;for(e.first=e.last=null;t!==null;){var n=t.next;ke(t,r),t=n}}function ea(e){for(var r=e.first;r!==null;){var t=r.next;r.f&me||ke(r),r=t}}function ke(e,r=!0){var t=!1;if((r||e.f&Sn)&&e.nodes_start!==null){for(var n=e.nodes_start,a=e.nodes_end;n!==null;){var i=n===a?null:Rr(n);n.remove(),n=i}t=!0}an(e,r&&!t),nn(e),ur(e,0),fe(e,er);var s=e.transitions;if(s!==null)for(const h of s)h.stop();tn(e);var v=e.parent;v!==null&&v.first!==null&&on(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function on(e){var r=e.parent,t=e.prev,n=e.next;t!==null&&(t.next=n),n!==null&&(n.prev=t),r!==null&&(r.first===e&&(r.first=n),r.last===e&&(r.last=t))}function Or(e,r){var t=[];pt(e,t,!0),ln(t,()=>{ke(e),r&&r()})}function ln(e,r){var t=e.length;if(t>0){var n=()=>--t||r();for(var a of e)a.out(n)}else r()}function pt(e,r,t){if(!(e.f&_e)){if(e.f^=_e,e.transitions!==null)for(const s of e.transitions)(s.is_global||t)&&r.push(s);for(var n=e.first;n!==null;){var a=n.next,i=(n.f&Dr)!==0||(n.f&me)!==0;pt(n,r,i?t:!1),n=a}}}function Ir(e){sn(e,!0)}function sn(e,r){if(e.f&_e){e.f^=_e,e.f&Q||(e.f^=Q),nr(e)&&(fe(e,Me),zr(e));for(var t=e.first;t!==null;){var n=t.next,a=(t.f&Dr)!==0||(t.f&me)!==0;sn(t,a?r:!1),t=n}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||r)&&i.in()}}let et=!1,rt=[];function ra(){et=!1;const e=rt.slice();rt=[],Qr(e)}function un(e){et||(et=!0,queueMicrotask(ra)),rt.push(e)}let kr=!1,Pr=!1,Lr=null,Ge=!1,gt=!1;function xt(e){Ge=e}function Ct(e){gt=e}let tt=[],lr=0,q=null,we=!1;function Ae(e){q=e}let R=null;function ge(e){R=e}let pe=null;function ta(e){pe=e}let oe=null,ue=0,be=null;function na(e){be=e}let cn=1,Fr=0,Fe=!1,Pe=null,U=null;function fn(){return++cn}function dr(){return!fr||U!==null&&U.l===null}function nr(e){var _;var r=e.f;if(r&Me)return!0;if(r&Re){var t=e.deps,n=(r&De)!==0;if(t!==null){var a,i,s=(r&xr)!==0,v=n&&R!==null&&!Fe,h=t.length;if(s||v){for(a=0;a<h;a++)i=t[a],(s||!((_=i==null?void 0:i.reactions)!=null&&_.includes(e)))&&(i.reactions??(i.reactions=[])).push(e);s&&(e.f^=xr)}for(a=0;a<h;a++)if(i=t[a],nr(i)&&Qt(i),i.wv>e.wv)return!0}(!n||R!==null&&!Fe)&&fe(e,Q)}return!1}function aa(e,r){for(var t=r;t!==null;){if(t.f&Er)try{t.fn(e);return}catch{t.f^=Er}t=t.parent}throw kr=!1,e}function oa(e){return(e.f&er)===0&&(e.parent===null||(e.parent.f&Er)===0)}function jr(e,r,t,n){if(kr){if(t===null&&(kr=!1),oa(r))throw e;return}t!==null&&(kr=!0);{aa(e,r);return}}function vn(e,r,t=0){var n=e.reactions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a];i.f&ie?vn(i,r,t+1):r===i&&(t===0?fe(i,Me):i.f&Q&&fe(i,Re),zr(i))}}function dn(e){var m;var r=oe,t=ue,n=be,a=q,i=Fe,s=pe,v=U,h=we,_=e.f;oe=null,ue=0,be=null,q=_&(me|Xe)?null:e,Fe=!Ge&&(_&De)!==0,pe=null,U=e.ctx,we=!1,Fr++;try{var M=(0,e.fn)(),u=e.deps;if(oe!==null){var p;if(ur(e,ue),u!==null&&ue>0)for(u.length=ue+oe.length,p=0;p<oe.length;p++)u[ue+p]=oe[p];else e.deps=u=oe;if(!Fe)for(p=ue;p<u.length;p++)((m=u[p]).reactions??(m.reactions=[])).push(e)}else u!==null&&ue<u.length&&(ur(e,ue),u.length=ue);if(dr()&&be!==null&&!(e.f&(ie|Re|Me)))for(p=0;p<be.length;p++)vn(be[p],e);return a!==null&&Fr++,M}finally{oe=r,ue=t,be=n,q=a,Fe=i,pe=s,U=v,we=h}}function ia(e,r){let t=r.reactions;if(t!==null){var n=En.call(t,e);if(n!==-1){var a=t.length-1;a===0?t=r.reactions=null:(t[n]=t[a],t.pop())}}t===null&&r.f&ie&&(oe===null||!oe.includes(r))&&(fe(r,Re),r.f&(De|xr)||(r.f^=xr),ur(r,0))}function ur(e,r){var t=e.deps;if(t!==null)for(var n=r;n<t.length;n++)ia(e,t[n])}function Ur(e){var r=e.f;if(!(r&er)){fe(e,Q);var t=R,n=U;R=e;try{r&vt?ea(e):an(e),nn(e),tn(e);var a=dn(e);e.teardown=typeof a=="function"?a:null,e.wv=cn;var i=e.deps,s;wt&&$n&&e.f&Me}catch(v){jr(v,e,t,n||e.ctx)}finally{R=t}}}function la(){if(lr>1e3){lr=0;try{Ln()}catch(e){if(Lr!==null)jr(e,Lr,null);else throw e}}lr++}function sa(e){var r=e.length;if(r!==0){la();var t=Ge;Ge=!0;try{for(var n=0;n<r;n++){var a=e[n];a.f&Q||(a.f^=Q);var i=[];hn(a,i),ua(i)}}finally{Ge=t}}}function ua(e){var r=e.length;if(r!==0)for(var t=0;t<r;t++){var n=e[t];if(!(n.f&(er|_e)))try{nr(n)&&(Ur(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?on(n):n.fn=null))}catch(a){jr(a,n,null,n.ctx)}}}function ca(){if(Pr=!1,lr>1001)return;const e=tt;tt=[],sa(e),Pr||(lr=0,Lr=null)}function zr(e){Pr||(Pr=!0,queueMicrotask(ca)),Lr=e;for(var r=e;r.parent!==null;){r=r.parent;var t=r.f;if(t&(Xe|me)){if(!(t&Q))return;r.f^=Q}}tt.push(r)}function hn(e,r){var t=e.first,n=[];e:for(;t!==null;){var a=t.f,i=(a&me)!==0,s=i&&(a&Q)!==0,v=t.next;if(!s&&!(a&_e))if(a&cr){if(i)t.f^=Q;else try{nr(t)&&Ur(t)}catch(u){jr(u,t,null,t.ctx)}var h=t.first;if(h!==null){t=h;continue}}else a&qt&&n.push(t);if(v===null){let u=t.parent;for(;u!==null;){if(e===u)break e;var _=u.next;if(_!==null){t=_;continue e}u=u.parent}}t=v}for(var M=0;M<n.length;M++)h=n[M],r.push(h),hn(h,r)}function f(e){var M;var r=e.f,t=(r&ie)!==0;if(t&&r&er){var n=Jt(e);return _t(e),n}if(Pe!==null&&Pe.add(e),q!==null&&!we){pe!==null&&pe.includes(e)&&Fn();var a=q.deps;e.rv<Fr&&(e.rv=Fr,oe===null&&a!==null&&a[ue]===e?ue++:oe===null?oe=[e]:oe.push(e))}else if(t&&e.deps===null)for(var i=e,s=i.parent,v=i;s!==null;)if(s.f&ie){var h=s;v=h,s=h.parent}else{var _=s;(M=_.deriveds)!=null&&M.includes(v)||(_.deriveds??(_.deriveds=[])).push(v);break}return t&&(i=e,nr(i)&&Qt(i)),e.v}function fa(e){var r=Pe;Pe=new Set;var t=Pe,n;try{if(ce(e),r!==null)for(n of Pe)r.add(n)}finally{Pe=r}return t}function va(e){var r=fa(()=>ce(e));for(var t of r)if(t.f&jt)for(const n of t.deps||[])n.f&ie||Sr(n,n.v);else Sr(t,t.v)}function ce(e){var r=we;try{return we=!0,e()}finally{we=r}}const da=-7169;function fe(e,r){e.f=e.f&da|r}function Kr(e,r=1){var t=f(e),n=r===1?t++:t--;return B(e,t),n}function hr(e,r=!1,t){U={p:U,c:null,e:null,m:!1,s:e,x:null,l:null},fr&&!r&&(U.l={s:null,u:null,r1:[],r2:Cr(!1)})}function _r(e){const r=U;if(r!==null){const s=r.e;if(s!==null){var t=R,n=q;r.e=null;try{for(var a=0;a<s.length;a++){var i=s[a];ge(i.effect),Ae(i.reaction),vr(i.fn)}}finally{ge(t),Ae(n)}}U=r.p,r.m=!0}return{}}function ha(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Je in e)nt(e);else if(!Array.isArray(e))for(let r in e){const t=e[r];typeof t=="object"&&t&&Je in t&&nt(t)}}}function nt(e,r=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!r.has(e)){r.add(e),e instanceof Date&&e.getTime();for(let n in e)try{nt(e[n],r)}catch{}const t=Bt(e);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const n=Rt(t);for(let a in n){const i=n[a].get;if(i)try{i.call(e)}catch{}}}}}const _a=["touchstart","touchmove"];function pa(e){return _a.includes(e)}let St=!1;function ga(){St||(St=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var r;if(!e.defaultPrevented)for(const t of e.target.elements)(r=t.__on_r)==null||r.call(t)})},{capture:!0}))}function _n(e){var r=q,t=R;Ae(null),ge(null);try{return e()}finally{Ae(r),ge(t)}}function mt(e,r,t,n=t){e.addEventListener(r,()=>_n(t));const a=e.__on_r;a?e.__on_r=()=>{a(),n(!0)}:e.__on_r=()=>n(!0),ga()}const pn=new Set,at=new Set;function ma(e,r,t,n={}){function a(i){if(n.capture||ir.call(r,i),!i.cancelBubble)return _n(()=>t==null?void 0:t.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?un(()=>{r.addEventListener(e,a,n)}):r.addEventListener(e,a,n),a}function ve(e,r,t,n,a){var i={capture:n,passive:a},s=ma(e,r,t,i);(r===document.body||r===window||r===document)&&en(()=>{r.removeEventListener(e,s,i)})}function ya(e){for(var r=0;r<e.length;r++)pn.add(e[r]);for(var t of at)t(e)}function ir(e){var A;var r=this,t=r.ownerDocument,n=e.type,a=((A=e.composedPath)==null?void 0:A.call(e))||[],i=a[0]||e.target,s=0,v=e.__root;if(v){var h=a.indexOf(v);if(h!==-1&&(r===document||r===window)){e.__root=r;return}var _=a.indexOf(r);if(_===-1)return;h<=_&&(s=h)}if(i=a[s]||e.target,i!==r){Dt(e,"currentTarget",{configurable:!0,get(){return i||t}});var M=q,u=R;Ae(null),ge(null);try{for(var p,m=[];i!==null;){var C=i.assignedSlot||i.parentNode||i.host||null;try{var O=i["__"+n];if(O!==void 0&&!i.disabled)if($t(O)){var[T,...z]=O;T.apply(i,[e,...z])}else O.call(i,e)}catch(F){p?m.push(F):p=F}if(e.cancelBubble||C===r||C===null)break;i=C}if(p){for(let F of m)queueMicrotask(()=>{throw F});throw p}}finally{e.__root=r,delete e.currentTarget,Ae(M),ge(u)}}}function ba(e){var r=document.createElement("template");return r.innerHTML=e,r.content}function Nr(e,r){var t=R;t.nodes_start===null&&(t.nodes_start=e,t.nodes_end=r)}function le(e,r){var t=(r&zn)!==0,n=(r&Wn)!==0,a,i=!e.startsWith("<!>");return()=>{a===void 0&&(a=ba(i?e:"<!>"+e),t||(a=Tr(a)));var s=n?document.importNode(a,!0):a.cloneNode(!0);if(t){var v=Tr(s),h=s.lastChild;Nr(v,h)}else Nr(s,s);return s}}function wa(e=""){{var r=ht(e+"");return Nr(r,r),r}}function ka(){var e=document.createDocumentFragment(),r=document.createComment(""),t=ht();return e.append(r,t),Nr(r,t),e}function J(e,r){e!==null&&e.before(r)}function ne(e,r){var t=r==null?"":typeof r=="object"?r+"":r;t!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=t,e.nodeValue=t==null?"":t+"")}function Ma(e,r){return Ea(e,r)}const He=new Map;function Ea(e,{target:r,anchor:t,props:n={},events:a,context:i,intro:s=!0}){Yn();var v=new Set,h=u=>{for(var p=0;p<u.length;p++){var m=u[p];if(!v.has(m)){v.add(m);var C=pa(m);r.addEventListener(m,ir,{passive:C});var O=He.get(m);O===void 0?(document.addEventListener(m,ir,{passive:C}),He.set(m,1)):He.set(m,O+1)}}};h(ft(pn)),at.add(h);var _=void 0,M=Xn(()=>{var u=t??r.appendChild(ht());return Qe(()=>{if(i){hr({});var p=U;p.c=i}a&&(n.$$events=a),_=e(u,n)||{},i&&_r()}),()=>{var C;for(var p of v){r.removeEventListener(p,ir);var m=He.get(p);--m===0?(document.removeEventListener(p,ir),He.delete(p)):He.set(p,m)}at.delete(h),u!==t&&((C=u.parentNode)==null||C.removeChild(u))}});return xa.set(_,M),_}let xa=new WeakMap;function Ne(e,r,t=!1){var n=e,a=null,i=null,s=Vn,v=t?Dr:0,h=!1;const _=(u,p=!0)=>{h=!0,M(p,u)},M=(u,p)=>{s!==(s=u)&&(s?(a?Ir(a):p&&(a=Qe(()=>p(n))),i&&Or(i,()=>{i=null})):(i?Ir(i):p&&(i=Qe(()=>p(n))),a&&Or(a,()=>{a=null})))};qr(()=>{h=!1,r(_),h||M(null,null)},v)}function Ca(e,r){return r}function Sa(e,r,t,n){for(var a=[],i=r.length,s=0;s<i;s++)pt(r[s].e,a,!0);var v=i>0&&a.length===0&&t!==null;if(v){var h=t.parentNode;Zn(h),h.append(t),n.clear(),Se(e,r[0].prev,r[i-1].next)}ln(a,()=>{for(var _=0;_<i;_++){var M=r[_];v||(n.delete(M.k),Se(e,M.prev,M.next)),ke(M.e,!v)}})}function Ta(e,r,t,n,a,i=null){var s=e,v={flags:r,items:new Map,first:null},h=null,_=!1,M=Ar(()=>{var u=t();return $t(u)?u:u==null?[]:ft(u)});qr(()=>{var u=f(M),p=u.length;if(!(_&&p===0)){_=p===0;{var m=q;Aa(u,v,s,a,r,(m.f&_e)!==0,n,t)}i!==null&&(p===0?h?Ir(h):h=Qe(()=>i(s)):h!==null&&Or(h,()=>{h=null})),f(M)}})}function Aa(e,r,t,n,a,i,s,v){var h=e.length,_=r.items,M=r.first,u=M,p,m=null,C=[],O=[],T,z,A,F;for(F=0;F<h;F+=1){if(T=e[F],z=s(T,F),A=_.get(z),A===void 0){var Y=u?u.e.nodes_start:t;m=Ia(Y,r,m,m===null?r.first:m.next,T,z,F,n,a,v),_.set(z,m),C=[],O=[],u=m.next;continue}if(Oa(A,T,F),A.e.f&_e&&Ir(A.e),A!==u){if(p!==void 0&&p.has(A)){if(C.length<O.length){var N=O[0],W;m=N.prev;var X=C[0],ae=C[C.length-1];for(W=0;W<C.length;W+=1)Tt(C[W],N,t);for(W=0;W<O.length;W+=1)p.delete(O[W]);Se(r,X.prev,ae.next),Se(r,m,X),Se(r,ae,N),u=N,m=ae,F-=1,C=[],O=[]}else p.delete(A),Tt(A,u,t),Se(r,A.prev,A.next),Se(r,A,m===null?r.first:m.next),Se(r,m,A),m=A;continue}for(C=[],O=[];u!==null&&u.k!==z;)(i||!(u.e.f&_e))&&(p??(p=new Set)).add(u),O.push(u),u=u.next;if(u===null)continue;A=u}C.push(A),m=A,u=A.next}if(u!==null||p!==void 0){for(var se=p===void 0?[]:ft(p);u!==null;)(i||!(u.e.f&_e))&&se.push(u),u=u.next;var ye=se.length;if(ye>0){var Oe=null;Sa(r,se,Oe,_)}}R.first=r.first&&r.first.e,R.last=m&&m.e}function Oa(e,r,t,n){Sr(e.v,r),e.i=t}function Ia(e,r,t,n,a,i,s,v,h,_){var M=(h&Rn)!==0,u=(h&qn)===0,p=M?u?dt(a):Cr(a):a,m=h&Bn?Cr(s):s,C={i:m,v:p,k:i,a:null,e:null,prev:t,next:n};try{return C.e=Qe(()=>v(e,p,m,_),Kt),C.e.prev=t&&t.e,C.e.next=n&&n.e,t===null?r.first=C:(t.next=C,t.e.next=C.e),n!==null&&(n.prev=C,n.e.prev=C.e),C}finally{}}function Tt(e,r,t){for(var n=e.next?e.next.e.nodes_start:t,a=r?r.e.nodes_start:t,i=e.e.nodes_start;i!==n;){var s=Rr(i);a.before(i),i=s}}function Se(e,r,t){r===null?e.first=t:(r.next=t,r.e.next=t&&t.e),t!==null&&(t.prev=r,t.e.prev=r&&r.e)}function Pa(e,r,...t){var n=e,a=$e,i;qr(()=>{a!==(a=r())&&(i&&(ke(i),i=null),i=Qe(()=>a(n,...t)))},Dr)}function At(e,r){var t=e.__attributes??(e.__attributes={});t.checked!==(t.checked=r??void 0)&&(e.checked=r)}function br(e,r,t,n){var a=e.__attributes??(e.__attributes={});a[r]!==(a[r]=t)&&(r==="style"&&"__styles"in e&&(e.__styles={}),r==="loading"&&(e[An]=t),t==null?e.removeAttribute(r):typeof t!="string"&&La(e).includes(r)?e[r]=t:e.setAttribute(r,t))}var Ot=new Map;function La(e){var r=Ot.get(e.nodeName);if(r)return r;Ot.set(e.nodeName,r=[]);for(var t,n=e,a=Element.prototype;a!==n;){t=Rt(n);for(var i in t)t[i].set&&r.push(i);n=Bt(n)}return r}function It(e,r,t){var n=e.__className,a=Fa(r);(n!==a||Kt)&&(r==null?e.removeAttribute("class"):e.className=a,e.__className=a)}function Fa(e,r){return(e??"")+""}function Na(e,r,t){if(t){if(e.classList.contains(r))return;e.classList.add(r)}else{if(!e.classList.contains(r))return;e.classList.remove(r)}}function gn(e,r,t=r){var n=dr();mt(e,"input",a=>{var i=a?e.defaultValue:e.value;if(i=Yr(e)?Zr(i):i,t(i),n&&i!==(i=r())){var s=e.selectionStart,v=e.selectionEnd;e.value=i??"",v!==null&&(e.selectionStart=s,e.selectionEnd=Math.min(v,e.value.length))}}),ce(r)==null&&e.value&&t(Yr(e)?Zr(e.value):e.value),tr(()=>{var a=r();Yr(e)&&a===Zr(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function $a(e,r,t=r){mt(e,"change",n=>{var a=n?e.defaultChecked:e.checked;t(a)}),ce(r)==null&&t(e.checked),tr(()=>{var n=r();e.checked=!!n})}function Yr(e){var r=e.type;return r==="number"||r==="range"}function Zr(e){return e===""?null:+e}function mn(e,r,t){if(e.multiple)return Ba(e,r);for(var n of e.options){var a=sr(n);if(Kn(a,r)){n.selected=!0;return}}(!t||r!==void 0)&&(e.selectedIndex=-1)}function Da(e,r){vr(()=>{var t=new MutationObserver(()=>{var n=e.__value;mn(e,n)});return t.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{t.disconnect()}})}function Ra(e,r,t=r){var n=!0;mt(e,"change",a=>{var i=a?"[selected]":":checked",s;if(e.multiple)s=[].map.call(e.querySelectorAll(i),sr);else{var v=e.querySelector(i)??e.querySelector("option:not([disabled])");s=v&&sr(v)}t(s)}),vr(()=>{var a=r();if(mn(e,a,n),n&&a===void 0){var i=e.querySelector(":checked");i!==null&&(a=sr(i),t(a))}e.__value=a,n=!1}),Da(e)}function Ba(e,r){for(var t of e.options)t.selected=~r.indexOf(sr(t))}function sr(e){return"__value"in e?e.__value:e.value}function Pt(e,r){return e===r||(e==null?void 0:e[Je])===r}function Te(e={},r,t,n){return vr(()=>{var a,i;return tr(()=>{a=i,i=[],ce(()=>{e!==t(...i)&&(r(e,...i),a&&Pt(t(...a),e)&&r(null,...a))})}),()=>{un(()=>{i&&Pt(t(...i),e)&&r(null,...i)})}}),e}function qa(e){return function(...r){var t=r[0];return t.preventDefault(),e==null?void 0:e.apply(this,r)}}function yt(e=!1){const r=U,t=r.l.u;if(!t)return;let n=()=>ha(r.s);if(e){let a=0,i={};const s=Br(()=>{let v=!1;const h=r.s;for(const _ in h)h[_]!==i[_]&&(i[_]=h[_],v=!0);return v&&a++,a});n=()=>f(s)}t.b.length&&Qn(()=>{Lt(r,n),Qr(t.b)}),Et(()=>{const a=ce(()=>t.m.map(xn));return()=>{for(const i of a)typeof i=="function"&&i()}}),t.a.length&&Et(()=>{Lt(r,n),Qr(t.a)})}function Lt(e,r){if(e.l.s)for(const t of e.l.s)f(t);r()}function yn(e,r,t){if(e==null)return r(void 0),$e;const n=ce(()=>e.subscribe(r,t));return n.unsubscribe?()=>n.unsubscribe():n}const Ke=[];function Ze(e,r=$e){let t=null;const n=new Set;function a(v){if(Wt(e,v)&&(e=v,t)){const h=!Ke.length;for(const _ of n)_[1](),Ke.push(_,e);if(h){for(let _=0;_<Ke.length;_+=2)Ke[_][0](Ke[_+1]);Ke.length=0}}}function i(v){a(v(e))}function s(v,h=$e){const _=[v,h];return n.add(_),n.size===1&&(t=r(a,i)||$e),v(e),()=>{n.delete(_),n.size===0&&t&&(t(),t=null)}}return{set:a,update:i,subscribe:s}}function ja(e){let r;return yn(e,t=>r=t)(),r}let wr=!1,ot=Symbol();function K(e,r,t){const n=t[r]??(t[r]={store:null,source:dt(void 0),unsubscribe:$e});if(n.store!==e&&!(ot in t))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=$e;else{var a=!0;n.unsubscribe=yn(e,i=>{a?n.source.v=i:B(n.source,i)}),a=!1}return e&&ot in t?ja(e):f(n.source)}function it(e,r){return e.set(r),r}function Wr(){const e={};function r(){en(()=>{for(var t in e)e[t].unsubscribe();Dt(e,ot,{enumerable:!1,value:!0})})}return[e,r]}function Ft(e,r,t){return e.set(t),r}function Ua(e){var r=wr;try{return wr=!1,[e(),wr]}finally{wr=r}}function za(e){for(var r=R,t=R;r!==null&&!(r.f&(me|Xe));)r=r.parent;try{return ge(r),e()}finally{ge(t)}}function Gr(e,r,t,n){var p;var a=(t&jn)!==0,i=!fr||(t&Un)!==0;Ua(()=>e[r]);var s=Je in e||Tn in e;((p=Jr(e,r))==null?void 0:p.set)??(s&&r in e);var v=n,h=!0,_=()=>(h&&(h=!1,v=n),v),M;if(i)M=()=>{var m=e[r];return m===void 0?_():(h=!0,m)};else{var u=za(()=>(a?Br:Ar)(()=>e[r]));u.f|=jt,M=()=>{var m=f(u);return m!==void 0&&(v=void 0),m===void 0?v:m}}return M}const Wa="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Wa);Dn();function Be(e,r){const t=sessionStorage.getItem(e),n=t?JSON.parse(t):r,a=Ze(n);return a.subscribe(i=>{sessionStorage.setItem(e,JSON.stringify(i))}),a}const Ye=Be("attempts",3),lt=Be("font","mono"),st=Be("isHiragana",!1),ut=Be("mute",!1),ct=Be("displayScore",!1),Nt=Be("askAgain",!1),Mr=Be("characterFilter",{standard:!0,voiced:!1,compound:!1}),bn=window.matchMedia("(prefers-color-scheme: dark)"),$r=Ze(bn.matches);bn.addEventListener("change",e=>{$r.set(e.matches)});const Va={„Ç¢:"a",„Ç§:"i",„Ç¶:"u",„Ç®:"e",„Ç™:"o",„Ç´:"ka",„Ç≠:"ki",„ÇØ:"ku",„Ç±:"ke",„Ç≥:"ko",„Çµ:"sa",„Ç∑:"shi",„Çπ:"su",„Çª:"se",„ÇΩ:"so",„Çø:"ta",„ÉÅ:"chi",„ÉÑ:"tsu",„ÉÜ:"te",„Éà:"to",„Éä:"na",„Éã:"ni",„Éå:"nu",„Éç:"ne",„Éé:"no",„Éè:"ha",„Éí:"hi",„Éï:"fu",„Éò:"he",„Éõ:"ho",„Éû:"ma",„Éü:"mi",„É†:"mu",„É°:"me",„É¢:"mo",„É§:"ya",„É¶:"yu",„É®:"yo",„É©:"ra",„É™:"ri",„É´:"ru",„É¨:"re",„É≠:"ro",„ÉØ:"wa",„É≤:"wo",„É≥:"n"},Ha={„Ç¨:"ga",„ÇÆ:"gi",„Ç∞:"gu",„Ç≤:"ge",„Ç¥:"go",„Ç∂:"za",„Ç∏:"ji",„Ç∫:"zu",„Çº:"ze",„Çæ:"zo",„ÉÄ:"da",„ÉÇ:"ji",„ÉÖ:"zu",„Éá:"de",„Éâ:"do",„Éê:"ba",„Éì:"bi",„Éñ:"bu",„Éô:"be",„Éú:"bo",„Éë:"pa",„Éî:"pi",„Éó:"pu",„Éö:"pe",„Éù:"po"},Ka={„Ç≠„É£:"kya",„Ç≠„É•:"kyu",„Ç≠„Éß:"kyo",„Ç∑„É£:"sha",„Ç∑„É•:"shu",„Ç∑„Éß:"sho",„ÉÅ„É£:"cha",„ÉÅ„É•:"chu",„ÉÅ„Éß:"cho",„Éã„É£:"nya",„Éã„É•:"nyu",„Éã„Éß:"nyo",„Éí„É£:"hya",„Éí„É•:"hyu",„Éí„Éß:"hyo",„Éü„É£:"mya",„Éü„É•:"myu",„Éü„Éß:"myo",„É™„É£:"rya",„É™„É•:"ryu",„É™„Éß:"ryo",„ÇÆ„É£:"gya",„ÇÆ„É•:"gyu",„ÇÆ„Éß:"gyo",„Ç∏„É£:"ja",„Ç∏„É•:"ju",„Ç∏„Éß:"jo",„Éì„É£:"bya",„Éì„É•:"byu",„Éì„Éß:"byo",„Éî„É£:"pya",„Éî„É•:"pyu",„Éî„Éß:"pyo"},Ya={standard:Va,voiced:Ha,compound:Ka},Za={„ÅÇ:"a",„ÅÑ:"i",„ÅÜ:"u",„Åà:"e",„Åä:"o",„Åã:"ka",„Åç:"ki",„Åè:"ku",„Åë:"ke",„Åì:"ko",„Åï:"sa",„Åó:"shi",„Åô:"su",„Åõ:"se",„Åù:"so",„Åü:"ta",„Å°:"chi",„Å§:"tsu",„Å¶:"te",„Å®:"to",„Å™:"na",„Å´:"ni",„Å¨:"nu",„Å≠:"ne",„ÅÆ:"no",„ÅØ:"ha",„Å≤:"hi",„Åµ:"fu",„Å∏:"he",„Åª:"ho",„Åæ:"ma",„Åø:"mi",„ÇÄ:"mu",„ÇÅ:"me",„ÇÇ:"mo",„ÇÑ:"ya",„ÇÜ:"yu",„Çà:"yo",„Çâ:"ra",„Çä:"ri",„Çã:"ru",„Çå:"re",„Çç:"ro",„Çè:"wa",„Çí:"wo",„Çì:"n"},Ga={„Åå:"ga",„Åé:"gi",„Åê:"gu",„Åí:"ge",„Åî:"go",„Åñ:"za",„Åò:"ji",„Åö:"zu",„Åú:"ze",„Åû:"zo",„Å†:"da",„Å¢:"ji",„Å•:"zu",„Åß:"de",„Å©:"do",„Å∞:"ba",„Å≥:"bi",„Å∂:"bu",„Åπ:"be",„Åº:"bo",„Å±:"pa",„Å¥:"pi",„Å∑:"pu",„Å∫:"pe",„ÅΩ:"po"},Ja={„Åç„ÇÉ:"kya",„Åç„ÇÖ:"kyu",„Åç„Çá:"kyo",„Åó„ÇÉ:"sha",„Åó„ÇÖ:"shu",„Åó„Çá:"sho",„Å°„ÇÉ:"cha",„Å°„ÇÖ:"chu",„Å°„Çá:"cho",„Å´„ÇÉ:"nya",„Å´„ÇÖ:"nyu",„Å´„Çá:"nyo",„Å≤„ÇÉ:"hya",„Å≤„ÇÖ:"hyu",„Å≤„Çá:"hyo",„Åø„ÇÉ:"mya",„Åø„ÇÖ:"myu",„Åø„Çá:"myo",„Çä„ÇÉ:"rya",„Çä„ÇÖ:"ryu",„Çä„Çá:"ryo",„Åé„ÇÉ:"gya",„Åé„ÇÖ:"gyu",„Åé„Çá:"gyo",„Åò„ÇÉ:"ja",„Åò„ÇÖ:"ju",„Åò„Çá:"jo",„Å≥„ÇÉ:"bya",„Å≥„ÇÖ:"byu",„Å≥„Çá:"byo",„Å¥„ÇÉ:"pya",„Å¥„ÇÖ:"pyu",„Å¥„Çá:"pyo"},Qa={standard:Za,voiced:Ga,compound:Ja};var Xa=le('<div class="score-card"><h3>Scorecard</h3> <p> </p> <p> </p> <p> </p> <p> </p></div>');function eo(e,r){hr(r,!1);let t=Gr(r,"totalCharacters",8),n=Gr(r,"currentCharacter",8),a=Gr(r,"incorrectCount",8);yt();var i=Xa(),s=L(P(i),2),v=P(s),h=L(s,2),_=P(h),M=L(h,2),u=P(M),p=L(M,2),m=P(p);he(()=>{var C,O,T,z;ne(v,`total: ${((C=t())==null?void 0:C.length)??""}`),ne(_,`remain: ${((O=t())==null?void 0:O.length)-n()}`),ne(u,`incorrect: ${((T=a())==null?void 0:T.length)??""}`),ne(m,`correct: ${n()-((z=a())==null?void 0:z.length)}`)}),J(e,i),_r()}var pr={};(function e(r,t,n,a){var i=!!(r.Worker&&r.Blob&&r.Promise&&r.OffscreenCanvas&&r.OffscreenCanvasRenderingContext2D&&r.HTMLCanvasElement&&r.HTMLCanvasElement.prototype.transferControlToOffscreen&&r.URL&&r.URL.createObjectURL),s=typeof Path2D=="function"&&typeof DOMMatrix=="function",v=function(){if(!r.OffscreenCanvas)return!1;var l=new OffscreenCanvas(1,1),o=l.getContext("2d");o.fillRect(0,0,1,1);var d=l.transferToImageBitmap();try{o.createPattern(d,"no-repeat")}catch{return!1}return!0}();function h(){}function _(l){var o=t.exports.Promise,d=o!==void 0?o:r.Promise;return typeof d=="function"?new d(l):(l(h,h),null)}var M=function(l,o){return{transform:function(d){if(l)return d;if(o.has(d))return o.get(d);var g=new OffscreenCanvas(d.width,d.height),k=g.getContext("2d");return k.drawImage(d,0,0),o.set(d,g),g},clear:function(){o.clear()}}}(v,new Map),u=function(){var l=Math.floor(16.666666666666668),o,d,g={},k=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(o=function(w){var x=Math.random();return g[x]=requestAnimationFrame(function b(c){k===c||k+l-1<c?(k=c,delete g[x],w()):g[x]=requestAnimationFrame(b)}),x},d=function(w){g[w]&&cancelAnimationFrame(g[w])}):(o=function(w){return setTimeout(w,l)},d=function(w){return clearTimeout(w)}),{frame:o,cancel:d}}(),p=function(){var l,o,d={};function g(k){function w(x,b){k.postMessage({options:x||{},callback:b})}k.init=function(b){var c=b.transferControlToOffscreen();k.postMessage({canvas:c},[c])},k.fire=function(b,c,y){if(o)return w(b,null),o;var S=Math.random().toString(36).slice(2);return o=_(function(I){function D(j){j.data.callback===S&&(delete d[S],k.removeEventListener("message",D),o=null,M.clear(),y(),I())}k.addEventListener("message",D),w(b,S),d[S]=D.bind(null,{data:{callback:S}})}),o},k.reset=function(){k.postMessage({reset:!0});for(var b in d)d[b](),delete d[b]}}return function(){if(l)return l;if(!n&&i){var k=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{l=new Worker(URL.createObjectURL(new Blob([k])))}catch(w){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("üéä Could not load worker",w),null}g(l)}return l}}(),m={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function C(l,o){return o?o(l):l}function O(l){return l!=null}function T(l,o,d){return C(l&&O(l[o])?l[o]:m[o],d)}function z(l){return l<0?0:Math.floor(l)}function A(l,o){return Math.floor(Math.random()*(o-l))+l}function F(l){return parseInt(l,16)}function Y(l){return l.map(N)}function N(l){var o=String(l).replace(/[^0-9a-f]/gi,"");return o.length<6&&(o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2]),{r:F(o.substring(0,2)),g:F(o.substring(2,4)),b:F(o.substring(4,6))}}function W(l){var o=T(l,"origin",Object);return o.x=T(o,"x",Number),o.y=T(o,"y",Number),o}function X(l){l.width=document.documentElement.clientWidth,l.height=document.documentElement.clientHeight}function ae(l){var o=l.getBoundingClientRect();l.width=o.width,l.height=o.height}function se(l){var o=document.createElement("canvas");return o.style.position="fixed",o.style.top="0px",o.style.left="0px",o.style.pointerEvents="none",o.style.zIndex=l,o}function ye(l,o,d,g,k,w,x,b,c){l.save(),l.translate(o,d),l.rotate(w),l.scale(g,k),l.arc(0,0,1,x,b,c),l.restore()}function Oe(l){var o=l.angle*(Math.PI/180),d=l.spread*(Math.PI/180);return{x:l.x,y:l.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:l.startVelocity*.5+Math.random()*l.startVelocity,angle2D:-o+(.5*d-Math.random()*d),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:l.color,shape:l.shape,tick:0,totalTicks:l.ticks,decay:l.decay,drift:l.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:l.gravity*3,ovalScalar:.6,scalar:l.scalar,flat:l.flat}}function qe(l,o){o.x+=Math.cos(o.angle2D)*o.velocity+o.drift,o.y+=Math.sin(o.angle2D)*o.velocity+o.gravity,o.velocity*=o.decay,o.flat?(o.wobble=0,o.wobbleX=o.x+10*o.scalar,o.wobbleY=o.y+10*o.scalar,o.tiltSin=0,o.tiltCos=0,o.random=1):(o.wobble+=o.wobbleSpeed,o.wobbleX=o.x+10*o.scalar*Math.cos(o.wobble),o.wobbleY=o.y+10*o.scalar*Math.sin(o.wobble),o.tiltAngle+=.1,o.tiltSin=Math.sin(o.tiltAngle),o.tiltCos=Math.cos(o.tiltAngle),o.random=Math.random()+2);var d=o.tick++/o.totalTicks,g=o.x+o.random*o.tiltCos,k=o.y+o.random*o.tiltSin,w=o.wobbleX+o.random*o.tiltCos,x=o.wobbleY+o.random*o.tiltSin;if(l.fillStyle="rgba("+o.color.r+", "+o.color.g+", "+o.color.b+", "+(1-d)+")",l.beginPath(),s&&o.shape.type==="path"&&typeof o.shape.path=="string"&&Array.isArray(o.shape.matrix))l.fill(Ue(o.shape.path,o.shape.matrix,o.x,o.y,Math.abs(w-g)*.1,Math.abs(x-k)*.1,Math.PI/10*o.wobble));else if(o.shape.type==="bitmap"){var b=Math.PI/10*o.wobble,c=Math.abs(w-g)*.1,y=Math.abs(x-k)*.1,S=o.shape.bitmap.width*o.scalar,I=o.shape.bitmap.height*o.scalar,D=new DOMMatrix([Math.cos(b)*c,Math.sin(b)*c,-Math.sin(b)*y,Math.cos(b)*y,o.x,o.y]);D.multiplySelf(new DOMMatrix(o.shape.matrix));var j=l.createPattern(M.transform(o.shape.bitmap),"no-repeat");j.setTransform(D),l.globalAlpha=1-d,l.fillStyle=j,l.fillRect(o.x-S/2,o.y-I/2,S,I),l.globalAlpha=1}else if(o.shape==="circle")l.ellipse?l.ellipse(o.x,o.y,Math.abs(w-g)*o.ovalScalar,Math.abs(x-k)*o.ovalScalar,Math.PI/10*o.wobble,0,2*Math.PI):ye(l,o.x,o.y,Math.abs(w-g)*o.ovalScalar,Math.abs(x-k)*o.ovalScalar,Math.PI/10*o.wobble,0,2*Math.PI);else if(o.shape==="star")for(var E=Math.PI/2*3,$=4*o.scalar,V=8*o.scalar,H=o.x,Z=o.y,ee=5,re=Math.PI/ee;ee--;)H=o.x+Math.cos(E)*V,Z=o.y+Math.sin(E)*V,l.lineTo(H,Z),E+=re,H=o.x+Math.cos(E)*$,Z=o.y+Math.sin(E)*$,l.lineTo(H,Z),E+=re;else l.moveTo(Math.floor(o.x),Math.floor(o.y)),l.lineTo(Math.floor(o.wobbleX),Math.floor(k)),l.lineTo(Math.floor(w),Math.floor(x)),l.lineTo(Math.floor(g),Math.floor(o.wobbleY));return l.closePath(),l.fill(),o.tick<o.totalTicks}function je(l,o,d,g,k){var w=o.slice(),x=l.getContext("2d"),b,c,y=_(function(S){function I(){b=c=null,x.clearRect(0,0,g.width,g.height),M.clear(),k(),S()}function D(){n&&!(g.width===a.width&&g.height===a.height)&&(g.width=l.width=a.width,g.height=l.height=a.height),!g.width&&!g.height&&(d(l),g.width=l.width,g.height=l.height),x.clearRect(0,0,g.width,g.height),w=w.filter(function(j){return qe(x,j)}),w.length?b=u.frame(D):I()}b=u.frame(D),c=I});return{addFettis:function(S){return w=w.concat(S),y},canvas:l,promise:y,reset:function(){b&&u.cancel(b),c&&c()}}}function Ee(l,o){var d=!l,g=!!T(o||{},"resize"),k=!1,w=T(o,"disableForReducedMotion",Boolean),x=i&&!!T(o||{},"useWorker"),b=x?p():null,c=d?X:ae,y=l&&b?!!l.__confetti_initialized:!1,S=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,I;function D(E,$,V){for(var H=T(E,"particleCount",z),Z=T(E,"angle",Number),ee=T(E,"spread",Number),re=T(E,"startVelocity",Number),We=T(E,"decay",Number),ar=T(E,"gravity",Number),te=T(E,"drift",Number),Ce=T(E,"colors",Y),gr=T(E,"ticks",Number),Ve=T(E,"shapes"),Vr=T(E,"scalar"),or=!!T(E,"flat"),mr=W(E),bt=H,Hr=[],wn=l.width*mr.x,kn=l.height*mr.y;bt--;)Hr.push(Oe({x:wn,y:kn,angle:Z,spread:ee,startVelocity:re,color:Ce[bt%Ce.length],shape:Ve[A(0,Ve.length)],ticks:gr,decay:We,gravity:ar,drift:te,scalar:Vr,flat:or}));return I?I.addFettis(Hr):(I=je(l,Hr,c,$,V),I.promise)}function j(E){var $=w||T(E,"disableForReducedMotion",Boolean),V=T(E,"zIndex",Number);if($&&S)return _(function(re){re()});d&&I?l=I.canvas:d&&!l&&(l=se(V),document.body.appendChild(l)),g&&!y&&c(l);var H={width:l.width,height:l.height};b&&!y&&b.init(l),y=!0,b&&(l.__confetti_initialized=!0);function Z(){if(b){var re={getBoundingClientRect:function(){if(!d)return l.getBoundingClientRect()}};c(re),b.postMessage({resize:{width:re.width,height:re.height}});return}H.width=H.height=null}function ee(){I=null,g&&(k=!1,r.removeEventListener("resize",Z)),d&&l&&(document.body.contains(l)&&document.body.removeChild(l),l=null,y=!1)}return g&&!k&&(k=!0,r.addEventListener("resize",Z,!1)),b?b.fire(E,H,ee):D(E,H,ee)}return j.reset=function(){b&&b.reset(),I&&I.reset()},j}var de;function Ie(){return de||(de=Ee(null,{useWorker:!0,resize:!0})),de}function Ue(l,o,d,g,k,w,x){var b=new Path2D(l),c=new Path2D;c.addPath(b,new DOMMatrix(o));var y=new Path2D;return y.addPath(c,new DOMMatrix([Math.cos(x)*k,Math.sin(x)*k,-Math.sin(x)*w,Math.cos(x)*w,d,g])),y}function ze(l){if(!s)throw new Error("path confetti are not supported in this browser");var o,d;typeof l=="string"?o=l:(o=l.path,d=l.matrix);var g=new Path2D(o),k=document.createElement("canvas"),w=k.getContext("2d");if(!d){for(var x=1e3,b=x,c=x,y=0,S=0,I,D,j=0;j<x;j+=2)for(var E=0;E<x;E+=2)w.isPointInPath(g,j,E,"nonzero")&&(b=Math.min(b,j),c=Math.min(c,E),y=Math.max(y,j),S=Math.max(S,E));I=y-b,D=S-c;var $=10,V=Math.min($/I,$/D);d=[V,0,0,V,-Math.round(I/2+b)*V,-Math.round(D/2+c)*V]}return{type:"path",path:o,matrix:d}}function xe(l){var o,d=1,g="#000000",k='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof l=="string"?o=l:(o=l.text,d="scalar"in l?l.scalar:d,k="fontFamily"in l?l.fontFamily:k,g="color"in l?l.color:g);var w=10*d,x=""+w+"px "+k,b=new OffscreenCanvas(w,w),c=b.getContext("2d");c.font=x;var y=c.measureText(o),S=Math.ceil(y.actualBoundingBoxRight+y.actualBoundingBoxLeft),I=Math.ceil(y.actualBoundingBoxAscent+y.actualBoundingBoxDescent),D=2,j=y.actualBoundingBoxLeft+D,E=y.actualBoundingBoxAscent+D;S+=D+D,I+=D+D,b=new OffscreenCanvas(S,I),c=b.getContext("2d"),c.font=x,c.fillStyle=g,c.fillText(o,j,E);var $=1/d;return{type:"bitmap",bitmap:b.transferToImageBitmap(),matrix:[$,0,0,$,-S*$/2,-I*$/2]}}t.exports=function(){return Ie().apply(this,arguments)},t.exports.reset=function(){Ie().reset()},t.exports.create=Ee,t.exports.shapeFromPath=ze,t.exports.shapeFromText=xe})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),pr,!1);const ro=pr.exports;pr.exports.create;var to=le(`<h1>Congratulations, you got everything right!</h1> <p>This is Wooper.<br> Wooper is proud of how far you have come and how
          much you have accomplished.</p> <img src="./gif/wooper.gif" alt="wooper" width="50">`,1),no=le("<h1>incorrect guesses:</h1> <p> </p> <button>Play Again With Incorrect Kana</button>",1),ao=le('<div class="ending-screen"><!> <button>Play Again with all Kana</button></div>'),oo=le('<p class="dots"> </p> <form><input type="text"></form> <p> </p>',1),io=le('<p class="fail">I was <strong> </strong>!</p>'),lo=le("<h1> </h1> <!>",1),so=le('<audio src="./audio/correct.wav"></audio> <audio src="./audio/try-again.wav"></audio> <audio src="./audio/failed.wav"></audio> <audio src="./audio/yippee.mp3"></audio> <div class="game"><!> <!></div>',1);function uo(e,r){hr(r,!1);const[t,n]=Wr(),a=()=>K(st,"$isHiragana",t),i=()=>K(Mr,"$characterFilter",t),s=()=>K(ut,"$mute",t),v=()=>K(Ye,"$attempts",t),h=()=>K(lt,"$font",t),_=()=>K(ct,"$displayScore",t);let M=G(),u=G(),p=G(),m=!1,C=G(),O=G(),T=G(),z=G(),A=G(),F=G(),Y=G(),N=G(),W=G(),X=G(),ae=G(),se=G(),ye=G([]);function Oe(){m=!0,ro(),m=!1,f(se).play()}function qe(c=!0,y){B(T,c?"Correct!":"Try Again!"),B(z,c),setTimeout(()=>{B(T,"")},500)}function je(c){for(let y=0;y<c.length;y++){const S=y+Math.floor(Math.random()*(c.length-y));let I=c[S];c[S]=c[y],c[y]=I}return c}function Ee(c){B(p,je(c)),B(Y,0),B(N,[]),de()}function de(){B(F,f(p)[f(Y)]),B(C,""),B(A,v())}function Ie(){var c;f(C)===f(M)[f(F)]?(f(W).play(),qe(),Kr(Y),de()):(Kr(A,-1),f(A)==0?(f(ae).play(),f(N).push(f(F)),setTimeout(de,600),setTimeout(()=>Kr(Y),500)):(f(X).play(),qe(!1))),f(Y)===((c=f(p))==null?void 0:c.length)&&f(N).length===0&&!m&&Oe(),B(C,""),f(O).focus()}Xr(()=>(a(),f(M),i(),f(O),f(W),s()),()=>{const c=a()?Qa:Ya;if(B(M,Object.assign({},...Object.keys(c).filter(y=>i()[y]).map(y=>c[y]))),B(u,Object.keys(f(M))),f(O)&&f(O).focus(),f(W)){const y=s()?0:1;yr(W,f(W).volume=y),yr(X,f(X).volume=y),yr(ae,f(ae).volume=y),yr(se,f(se).volume=s()?0:.05)}}),Xr(()=>(f(u),f(ye)),()=>{JSON.stringify(f(u))!==JSON.stringify(f(ye))&&(B(ye,[...f(u)]),Ee(f(u)))}),rn(),yt();var Ue=so(),ze=Le(Ue);Te(ze,c=>B(W,c),()=>f(W));var xe=L(ze,2);Te(xe,c=>B(X,c),()=>f(X));var l=L(xe,2);Te(l,c=>B(ae,c),()=>f(ae));var o=L(l,2);Te(o,c=>B(se,c),()=>f(se));var d=L(o,2),g=P(d);{var k=c=>{var y=ao(),S=P(y);{var I=E=>{var $=to();J(E,$)},D=E=>{var $=no(),V=L(Le($),2),H=P(V),Z=L(V,2);he(ee=>ne(H,ee),[()=>f(N).toString()],Ar),ve("click",Z,()=>Ee(f(N))),J(E,$)};Ne(S,E=>{f(N).length?E(D,!1):E(I)})}var j=L(S,2);ve("click",j,()=>Ee(f(u))),J(c,y)},w=c=>{var y=lo(),S=Le(y),I=P(S),D=L(S,2);{var j=$=>{var V=oo(),H=Le(V),Z=P(H),ee=L(H,2),re=P(ee);Te(re,te=>B(O,te),()=>f(O));var We=L(ee,2),ar=P(We);he(te=>{ne(Z,te),It(We,`result ${f(z)}`),ne(ar,f(T))},[()=>Array.from({length:f(A)}).map(()=>"‚Ä¢").join("")],Ar),gn(re,()=>f(C),te=>B(C,te)),ve("submit",ee,qa(Ie)),J($,V)},E=$=>{var V=io(),H=L(P(V)),Z=P(H);he(()=>ne(Z,f(M)[f(F)])),J($,V)};Ne(D,$=>{f(A)>0?$(j):$(E,!1)})}he(()=>{It(S,`${h()??""}-font`),ne(I,f(F))}),J(c,y)};Ne(g,c=>{f(Y)===f(p).length?c(k):c(w,!1)})}var x=L(g,2);{var b=c=>{eo(c,{get totalCharacters(){return f(p)},get incorrectCount(){return f(N)},get currentCharacter(){return f(Y)}})};Ne(x,c=>{_()&&c(b)})}J(e,Ue),_r(),n()}var co=le('<button aria-label="overlay" class="overlay"></button> <div class="confirmation"><p class="warning-message"><!></p> <div class="require-confirmation"><label for="require-confirmation">Do not ask this again:</label> <input id="require-confirmation" type="checkbox" class="toggle"></div> <div><button>Confirm</button> <button>Cancel</button></div></div>',1);function fo(e,r){hr(r,!0);const[t,n]=Wr(),a=()=>K(r.display,"$display",t),i=()=>K(r.notShowAgain,"$notShowAgain",t);var s=ka(),v=Le(s);{var h=_=>{var M=co(),u=Le(M);u.__click=()=>r.display.set(!1);var p=L(u,2),m=P(p),C=P(m);Pa(C,()=>r.children);var O=L(m,2),T=L(P(O),2),z=L(O,2),A=P(z);A.__click=()=>{r.result.set(!0),r.display.set(!1)};var F=L(A,2);F.__click=()=>{r.result.set(!1),r.display.set(!1)},$a(T,i,Y=>it(r.notShowAgain,Y)),J(_,M)};Ne(v,_=>{a()&&_(h)})}J(e,s),_r(),n()}ya(["click"]);var vo=le("<div><!></div>"),ho=le('<div class="include-option"><label> </label> <input type="checkbox" class="toggle"></div>'),_o=le('<div class="settings-popup"><div class="settings-buttons"><button><span class="material-symbols-rounded"> </span></button> <button><span class="material-symbols-rounded"> </span></button></div> <button id="score-button"> </button> <div class="setting-field"><label for="attempts">attempts:</label> <input name="attempts" id="attempts" type="number"></div> <div class="setting-field"><label for="font">font:</label> <select><option>mono</option><option>serif</option><option>handwriting</option></select></div> <h4>Script:</h4> <div class="hiragana-toggle"><input type="checkbox" id="is-hiragana-checkbox"> <label for="is-hiragana-checkbox" class="toggle-label"> </label></div> <div class="include-options"><h4>Include:</h4> <!></div></div>'),po=le('<!> <div class="settings-container"><button id="display-settings" name="display-settings"><span class="material-symbols-rounded">settings</span></button> <!></div>',1);function go(e,r){hr(r,!1);const[t,n]=Wr(),a=()=>K(O,"$displaySettings",t),i=()=>K(Nt,"$doNotAskAgain",t),s=()=>K(N,"$result",t),v=()=>K(Mr,"$characterFilter",t),h=()=>K(Ye,"$attempts",t),_=()=>K(st,"$isHiragana",t),M=()=>K(F,"$confirmationMsg",t),u=()=>K(ut,"$mute",t),p=()=>K($r,"$isDarkMode",t),m=()=>K(ct,"$displayScore",t),C=()=>K(lt,"$font",t);let O=Ze(!1),T=G(),z=G(),A=G(),F=Ze(),Y=Ze(!1),N=Ze(null);const W=5,X=1;function ae(d){f(T)&&!f(T).contains(d.target)&&f(z)&&!f(z).contains(d.target)&&(!f(A)||!f(A).contains(d.target))&&O.set(!1)}function se(){ut.update(d=>!d)}function ye(){ct.update(d=>!d)}function Oe(){$r.update(d=>!d)}async function qe(d,g){const k=d.target,{checked:w}=k;i()?N.set(!0):(Y.set(!0),N.set(null),F.set(`Are you sure you want to ${w?"enable":"disable"} ${g} characters?
        This will restart your game.`),await new Promise(x=>{const b=N.subscribe(S=>{S!==null&&(b(),x())}),c=S=>{f(A)&&!f(A).contains(S.target)&&N.set(!1)},y=S=>{S.key==="Escape"&&N.set(!1)};document.addEventListener("click",c),document.addEventListener("keydown",y,{once:!0}),N.subscribe(S=>{S!==null&&(document.removeEventListener("click",c),document.removeEventListener("keydown",y))})})),s()===!0?(Ft(Mr,ce(v)[g]=w,ce(v)),Object.values(v()).every(x=>!x)&&(Ft(Mr,ce(v)[g]=!0,ce(v)),k.checked=!w,console.log("TODO: error the user!"))):k.checked=!w,Y.set(!1)}function je(){h()>W&&(Ye.set(W),console.log("TODO: error the user!")),h()<X&&(Ye.set(X),console.log("TODO: error the user!")),h()||(Ye.set(X),console.log("TODO: error the user!"))}async function Ee(d){const g=d.target,k=g.checked;i()?N.set(!0):(Y.set(!0),N.set(null),F.set(`Are you sure you want to switch to ${k?"hiragana":"katakana"}?
      This will restart your game.`),await new Promise(w=>{const x=N.subscribe(y=>{y!==null&&(x(),w())}),b=y=>{f(A)&&!f(A).contains(y.target)&&N.set(!1)},c=y=>{y.key==="Escape"&&N.set(!1)};document.addEventListener("click",b),document.addEventListener("keydown",c,{once:!0}),N.subscribe(y=>{y!==null&&(document.removeEventListener("click",b),document.removeEventListener("keydown",c))})})),s()===!0?st.set(k):g.checked=_(),Y.set(!1)}Xr(()=>a(),()=>{a()?document.addEventListener("mousedown",ae):document.removeEventListener("mousedown",ae)}),rn(),yt();var de=po(),Ie=Le(de);{var Ue=d=>{var g=vo(),k=P(g);fo(k,{result:N,display:Y,notShowAgain:Nt,children:(w,x)=>{var b=wa();he(()=>ne(b,M())),J(w,b)},$$slots:{default:!0}}),Te(g,w=>B(A,w),()=>f(A)),J(d,g)};Ne(Ie,d=>{d(Ue)})}var ze=L(Ie,2),xe=P(ze);Te(xe,d=>B(z,d),()=>f(z));var l=L(xe,2);{var o=d=>{var g=_o(),k=P(g),w=P(k),x=P(w),b=P(x),c=L(w,2),y=P(c),S=P(y),I=L(k,2),D=P(I),j=L(I,2),E=L(P(j),2);br(E,"min",X),br(E,"max",W);var $=L(j,2),V=L(P($),2);he(()=>{C(),va(()=>{})});var H=L($,4),Z=P(H),ee=L(Z,2),re=P(ee),We=L(H,2),ar=L(P(We),2);Ta(ar,1,()=>Object.keys(v()),Ca,(te,Ce)=>{var gr=ho(),Ve=P(gr),Vr=P(Ve),or=L(Ve,2);he(()=>{br(Ve,"for",`${f(Ce)??""}-checkbox`),ne(Vr,`${f(Ce)??""}:`),br(or,"id",`${f(Ce)??""}-checkbox`),At(or,v()[f(Ce)])}),ve("change",or,mr=>qe(mr,f(Ce))),J(te,gr)}),Te(g,te=>B(T,te),()=>f(T)),he(()=>{ne(b,`volume_${(u()?"off":"up")??""}`),ne(S,`${(p()?"light":"dark")??""}_mode`),ne(D,`${(m()?"hide":"show")??""} score`),At(Z,_()),ne(re,_()?"hiragana":"katakana")}),ve("click",w,se),ve("click",c,Oe),ve("click",I,ye),gn(E,h,te=>it(Ye,te)),ve("change",E,je),ve("blur",E,je),Ra(V,C,te=>it(lt,te)),ve("change",Z,Ee),J(d,g)};Ne(l,d=>{a()&&d(o)})}ve("click",xe,()=>O.set(!a())),J(e,de),_r(),n()}var mo=le("<main><!> <!></main>");function yo(e){const[r,t]=Wr(),n=()=>K($r,"$isDarkMode",r);var a=mo(),i=P(a);go(i,{});var s=L(i,2);uo(s,{}),he(()=>Na(a,"dark-mode",n())),J(e,a),t()}Ma(yo,{target:document.getElementById("app")})});export default bo();
