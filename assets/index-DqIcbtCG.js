var kn=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var ko=kn((Mo,yt)=>{(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();const wr=!1;var $r=Array.isArray,En=Array.prototype.indexOf,vr=Array.from,Dr=Object.defineProperty,Qt=Object.getOwnPropertyDescriptor,Rr=Object.getOwnPropertyDescriptors,Br=Object.getPrototypeOf;const Re=()=>{};function Mn(e){return e()}function Xt(e){for(var t=0;t<e.length;t++)e[t]()}const le=2,qr=4,dt=8,dr=16,ge=32,Je=64,Tt=128,Be=256,At=512,re=1024,xe=2048,qe=4096,he=8192,Qe=16384,xn=32768,qt=65536,jr=1<<17,Sn=1<<19,zr=1<<20,Ze=Symbol("$state"),Cn=Symbol("legacy props"),Tn=Symbol("");function Ur(e){return e===this.v}function Wr(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function Vr(e){return!Wr(e,this.v)}function An(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function On(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function In(e){throw new Error("https://svelte.dev/e/effect_orphan")}function Ln(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Pn(){throw new Error("https://svelte.dev/e/state_unsafe_local_read")}function Nn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let ht=!1,Fn=!1;function $n(){ht=!0}const Dn=1,Rn=2,Bn=16,qn=1,jn=2,zn=1,Un=2,Wn=Symbol();function Ot(e,t){var r={f:0,v:e,reactions:null,equals:Ur,rv:0,wv:0};return r}function hr(e,t=!1){var n;const r=Ot(e);return t||(r.equals=Vr),ht&&W!==null&&W.l!==null&&((n=W.l).s??(n.s=[])).push(r),r}function Q(e,t=!1){return Vn(hr(e,t))}function Vn(e){return z!==null&&!Ee&&z.f&le&&(_e===null?ta([e]):_e.push(e)),e}function Et(e,t){return B(e,ce(()=>c(e))),t}function B(e,t){return z!==null&&!Ee&&pt()&&z.f&(le|dr)&&(_e===null||!_e.includes(e))&&Nn(),It(e,t)}function It(e,t){return e.equals(t)||(e.v,e.v=t,e.wv=fn(),Hr(e,xe),pt()&&q!==null&&q.f&re&&!(q.f&(ge|Je))&&(ke===null?ra([e]):ke.push(e))),t}function Hr(e,t){var r=e.reactions;if(r!==null)for(var n=pt(),a=r.length,i=0;i<a;i++){var l=r[i],v=l.f;v&xe||!n&&l===q||(fe(l,t),v&(re|Be)&&(v&le?Hr(l,qe):Ht(l)))}}let Kr=!1;function kr(e){return e!==null&&typeof e=="object"&&Ze in e?e[Ze]:e}function Hn(e,t){return Object.is(kr(e),kr(t))}var Er,Yr,Zr;function Kn(){if(Er===void 0){Er=window;var e=Element.prototype,t=Node.prototype;Yr=Qt(t,"firstChild").get,Zr=Qt(t,"nextSibling").get,e.__click=void 0,e.__className="",e.__attributes=null,e.__styles=null,e.__e=void 0,Text.prototype.__t=void 0}}function _r(e=""){return document.createTextNode(e)}function Lt(e){return Yr.call(e)}function jt(e){return Zr.call(e)}function N(e,t){return Lt(e)}function we(e,t){{var r=Lt(e);return r instanceof Comment&&r.data===""?jt(r):r}}function I(e,t=1,r=!1){let n=e;for(;t--;)n=jt(n);return n}function Yn(e){e.textContent=""}function zt(e){var t=le|xe;q===null?t|=Be:q.f|=zr;var r=z!==null&&z.f&le?z:null;const n={children:null,ctx:W,deps:null,equals:Ur,f:t,fn:e,reactions:null,rv:0,v:null,wv:0,parent:r??q};return r!==null&&(r.children??(r.children=[])).push(n),n}function Pt(e){const t=zt(e);return t.equals=Vr,t}function Gr(e){var t=e.children;if(t!==null){e.children=null;for(var r=0;r<t.length;r+=1){var n=t[r];n.f&le?pr(n):Me(n)}}}function Zn(e){for(var t=e.parent;t!==null;){if(!(t.f&le))return t;t=t.parent}return null}function Jr(e){var t,r=q;pe(Zn(e));try{Gr(e),t=dn(e)}finally{pe(r)}return t}function Qr(e){var t=Jr(e),r=(De||e.f&Be)&&e.deps!==null?qe:re;fe(e,r),e.equals(t)||(e.v=t,e.wv=fn())}function pr(e){Gr(e),vt(e,0),fe(e,Qe),e.v=e.children=e.deps=e.ctx=e.reactions=null}function Xr(e){q===null&&z===null&&In(),z!==null&&z.f&Be&&On(),mr&&An()}function Gn(e,t){var r=t.last;r===null?t.last=t.first=e:(r.next=e,e.prev=r,t.last=e)}function Xe(e,t,r,n=!0){var a=(e&Je)!==0,i=q,l={ctx:W,deps:null,deriveds:null,nodes_start:null,nodes_end:null,f:e|xe,first:null,fn:t,last:null,next:null,parent:a?null:i,prev:null,teardown:null,transitions:null,wv:0};if(r){var v=Ye;try{xr(!0),Vt(l),l.f|=xn}catch(E){throw Me(l),E}finally{xr(v)}}else t!==null&&Ht(l);var d=r&&l.deps===null&&l.first===null&&l.nodes_start===null&&l.teardown===null&&(l.f&(zr|Tt))===0;if(!d&&!a&&n&&(i!==null&&Gn(l,i),z!==null&&z.f&le)){var h=z;(h.children??(h.children=[])).push(l)}return l}function en(e){const t=Xe(dt,null,!1);return fe(t,re),t.teardown=e,t}function Mr(e){Xr();var t=q!==null&&(q.f&ge)!==0&&W!==null&&!W.m;if(t){var r=W;(r.e??(r.e=[])).push({fn:e,effect:q,reaction:z})}else{var n=_t(e);return n}}function Jn(e){return Xr(),et(e)}function Qn(e){const t=Xe(Je,e,!0);return(r={})=>new Promise(n=>{r.outro?Nt(t,()=>{Me(t),n(void 0)}):(Me(t),n(void 0))})}function _t(e){return Xe(qr,e,!1)}function er(e,t){var r=W,n={effect:null,ran:!1};r.l.r1.push(n),n.effect=et(()=>{e(),!n.ran&&(n.ran=!0,B(r.l.r2,!0),ce(t))})}function tn(){var e=W;et(()=>{if(c(e.l.r2)){for(var t of e.l.r1){var r=t.effect;r.f&re&&fe(r,qe),tt(r)&&Vt(r),t.ran=!1}e.l.r2.v=!1}})}function et(e){return Xe(dt,e,!0)}function de(e,t=[],r=zt){const n=t.map(r);return Ut(()=>e(...n.map(c)))}function Ut(e,t=0){return Xe(dt|dr|t,e,!0)}function Ge(e,t=!0){return Xe(dt|ge,e,!0,t)}function rn(e){var t=e.teardown;if(t!==null){const r=mr,n=z;Sr(!0),Le(null);try{t.call(null)}finally{Sr(r),Le(n)}}}function nn(e){var t=e.deriveds;if(t!==null){e.deriveds=null;for(var r=0;r<t.length;r+=1)pr(t[r])}}function an(e,t=!1){var r=e.first;for(e.first=e.last=null;r!==null;){var n=r.next;Me(r,t),r=n}}function Xn(e){for(var t=e.first;t!==null;){var r=t.next;t.f&ge||Me(t),t=r}}function Me(e,t=!0){var r=!1;if((t||e.f&Sn)&&e.nodes_start!==null){for(var n=e.nodes_start,a=e.nodes_end;n!==null;){var i=n===a?null:jt(n);n.remove(),n=i}r=!0}an(e,t&&!r),nn(e),vt(e,0),fe(e,Qe);var l=e.transitions;if(l!==null)for(const d of l)d.stop();rn(e);var v=e.parent;v!==null&&v.first!==null&&on(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function on(e){var t=e.parent,r=e.prev,n=e.next;r!==null&&(r.next=n),n!==null&&(n.prev=r),t!==null&&(t.first===e&&(t.first=n),t.last===e&&(t.last=r))}function Nt(e,t){var r=[];gr(e,r,!0),sn(r,()=>{Me(e),t&&t()})}function sn(e,t){var r=e.length;if(r>0){var n=()=>--r||t();for(var a of e)a.out(n)}else t()}function gr(e,t,r){if(!(e.f&he)){if(e.f^=he,e.transitions!==null)for(const l of e.transitions)(l.is_global||r)&&t.push(l);for(var n=e.first;n!==null;){var a=n.next,i=(n.f&qt)!==0||(n.f&ge)!==0;gr(n,t,i?r:!1),n=a}}}function Ft(e){ln(e,!0)}function ln(e,t){if(e.f&he){e.f^=he,e.f&re||(e.f^=re),tt(e)&&(fe(e,xe),Ht(e));for(var r=e.first;r!==null;){var n=r.next,a=(r.f&qt)!==0||(r.f&ge)!==0;ln(r,a?t:!1),r=n}if(e.transitions!==null)for(const i of e.transitions)(i.is_global||t)&&i.in()}}let tr=!1,rr=[];function ea(){tr=!1;const e=rr.slice();rr=[],Xt(e)}function un(e){tr||(tr=!0,queueMicrotask(ea)),rr.push(e)}let St=!1,$t=!1,Dt=null,Ye=!1,mr=!1;function xr(e){Ye=e}function Sr(e){mr=e}let nr=[],ut=0,z=null,Ee=!1;function Le(e){z=e}let q=null;function pe(e){q=e}let _e=null;function ta(e){_e=e}let se=null,ue=0,ke=null;function ra(e){ke=e}let cn=1,Rt=0,De=!1,$e=null,W=null;function fn(){return++cn}function pt(){return!ht||W!==null&&W.l===null}function tt(e){var h;var t=e.f;if(t&xe)return!0;if(t&qe){var r=e.deps,n=(t&Be)!==0;if(r!==null){var a,i,l=(t&At)!==0,v=n&&q!==null&&!De,d=r.length;if(l||v){for(a=0;a<d;a++)i=r[a],(l||!((h=i==null?void 0:i.reactions)!=null&&h.includes(e)))&&(i.reactions??(i.reactions=[])).push(e);l&&(e.f^=At)}for(a=0;a<d;a++)if(i=r[a],tt(i)&&Qr(i),i.wv>e.wv)return!0}(!n||q!==null&&!De)&&fe(e,re)}return!1}function na(e,t){for(var r=t;r!==null;){if(r.f&Tt)try{r.fn(e);return}catch{r.f^=Tt}r=r.parent}throw St=!1,e}function aa(e){return(e.f&Qe)===0&&(e.parent===null||(e.parent.f&Tt)===0)}function Wt(e,t,r,n){if(St){if(r===null&&(St=!1),aa(t))throw e;return}r!==null&&(St=!0);{na(e,t);return}}function vn(e,t,r=0){var n=e.reactions;if(n!==null)for(var a=0;a<n.length;a++){var i=n[a];i.f&le?vn(i,t,r+1):t===i&&(r===0?fe(i,xe):i.f&re&&fe(i,qe),Ht(i))}}function dn(e){var b;var t=se,r=ue,n=ke,a=z,i=De,l=_e,v=W,d=Ee,h=e.f;se=null,ue=0,ke=null,z=h&(ge|Je)?null:e,De=!Ye&&(h&Be)!==0,_e=null,W=e.ctx,Ee=!1,Rt++;try{var E=(0,e.fn)(),u=e.deps;if(se!==null){var p;if(vt(e,ue),u!==null&&ue>0)for(u.length=ue+se.length,p=0;p<se.length;p++)u[ue+p]=se[p];else e.deps=u=se;if(!De)for(p=ue;p<u.length;p++)((b=u[p]).reactions??(b.reactions=[])).push(e)}else u!==null&&ue<u.length&&(vt(e,ue),u.length=ue);if(pt()&&ke!==null&&!(e.f&(le|qe|xe)))for(p=0;p<ke.length;p++)vn(ke[p],e);return a!==null&&Rt++,E}finally{se=t,ue=r,ke=n,z=a,De=i,_e=l,W=v,Ee=d}}function oa(e,t){let r=t.reactions;if(r!==null){var n=En.call(r,e);if(n!==-1){var a=r.length-1;a===0?r=t.reactions=null:(r[n]=r[a],r.pop())}}r===null&&t.f&le&&(se===null||!se.includes(t))&&(fe(t,qe),t.f&(Be|At)||(t.f^=At),vt(t,0))}function vt(e,t){var r=e.deps;if(r!==null)for(var n=t;n<r.length;n++)oa(e,r[n])}function Vt(e){var t=e.f;if(!(t&Qe)){fe(e,re);var r=q,n=W;q=e;try{t&dr?Xn(e):an(e),nn(e),rn(e);var a=dn(e);e.teardown=typeof a=="function"?a:null,e.wv=cn;var i=e.deps,l;wr&&Fn&&e.f&xe}catch(v){Wt(v,e,r,n||e.ctx)}finally{q=r}}}function ia(){if(ut>1e3){ut=0;try{Ln()}catch(e){if(Dt!==null)Wt(e,Dt,null);else throw e}}ut++}function sa(e){var t=e.length;if(t!==0){ia();var r=Ye;Ye=!0;try{for(var n=0;n<t;n++){var a=e[n];a.f&re||(a.f^=re);var i=[];hn(a,i),la(i)}}finally{Ye=r}}}function la(e){var t=e.length;if(t!==0)for(var r=0;r<t;r++){var n=e[r];if(!(n.f&(Qe|he)))try{tt(n)&&(Vt(n),n.deps===null&&n.first===null&&n.nodes_start===null&&(n.teardown===null?on(n):n.fn=null))}catch(a){Wt(a,n,null,n.ctx)}}}function ua(){if($t=!1,ut>1001)return;const e=nr;nr=[],sa(e),$t||(ut=0,Dt=null)}function Ht(e){$t||($t=!0,queueMicrotask(ua)),Dt=e;for(var t=e;t.parent!==null;){t=t.parent;var r=t.f;if(r&(Je|ge)){if(!(r&re))return;t.f^=re}}nr.push(t)}function hn(e,t){var r=e.first,n=[];e:for(;r!==null;){var a=r.f,i=(a&ge)!==0,l=i&&(a&re)!==0,v=r.next;if(!l&&!(a&he))if(a&dt){if(i)r.f^=re;else try{tt(r)&&Vt(r)}catch(u){Wt(u,r,null,r.ctx)}var d=r.first;if(d!==null){r=d;continue}}else a&qr&&n.push(r);if(v===null){let u=r.parent;for(;u!==null;){if(e===u)break e;var h=u.next;if(h!==null){r=h;continue e}u=u.parent}}r=v}for(var E=0;E<n.length;E++)d=n[E],t.push(d),hn(d,t)}function c(e){var E;var t=e.f,r=(t&le)!==0;if(r&&t&Qe){var n=Jr(e);return pr(e),n}if($e!==null&&$e.add(e),z!==null&&!Ee){_e!==null&&_e.includes(e)&&Pn();var a=z.deps;e.rv<Rt&&(e.rv=Rt,se===null&&a!==null&&a[ue]===e?ue++:se===null?se=[e]:se.push(e))}else if(r&&e.deps===null)for(var i=e,l=i.parent,v=i;l!==null;)if(l.f&le){var d=l;v=d,l=d.parent}else{var h=l;(E=h.deriveds)!=null&&E.includes(v)||(h.deriveds??(h.deriveds=[])).push(v);break}return r&&(i=e,tt(i)&&Qr(i)),e.v}function ca(e){var t=$e;$e=new Set;var r=$e,n;try{if(ce(e),t!==null)for(n of $e)t.add(n)}finally{$e=t}return r}function fa(e){var t=ca(()=>ce(e));for(var r of t)if(r.f&jr)for(const n of r.deps||[])n.f&le||It(n,n.v);else It(r,r.v)}function ce(e){var t=Ee;try{return Ee=!0,e()}finally{Ee=t}}const va=-7169;function fe(e,t){e.f=e.f&va|t}function Yt(e,t=1){var r=c(e),n=t===1?r++:r--;return B(e,r),n}function gt(e,t=!1,r){W={p:W,c:null,e:null,m:!1,s:e,x:null,l:null},ht&&!t&&(W.l={s:null,u:null,r1:[],r2:Ot(!1)})}function mt(e){const t=W;if(t!==null){const l=t.e;if(l!==null){var r=q,n=z;t.e=null;try{for(var a=0;a<l.length;a++){var i=l[a];pe(i.effect),Le(i.reaction),_t(i.fn)}}finally{pe(r),Le(n)}}W=t.p,t.m=!0}return{}}function da(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ze in e)ar(e);else if(!Array.isArray(e))for(let t in e){const r=e[t];typeof r=="object"&&r&&Ze in r&&ar(r)}}}function ar(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let n in e)try{ar(e[n],t)}catch{}const r=Br(e);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const n=Rr(r);for(let a in n){const i=n[a].get;if(i)try{i.call(e)}catch{}}}}}const ha=["touchstart","touchmove"];function _a(e){return ha.includes(e)}let Cr=!1;function pa(){Cr||(Cr=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var t;if(!e.defaultPrevented)for(const r of e.target.elements)(t=r.__on_r)==null||t.call(r)})},{capture:!0}))}function _n(e){var t=z,r=q;Le(null),pe(null);try{return e()}finally{Le(t),pe(r)}}function yr(e,t,r,n=r){e.addEventListener(t,()=>_n(r));const a=e.__on_r;a?e.__on_r=()=>{a(),n(!0)}:e.__on_r=()=>n(!0),pa()}const pn=new Set,or=new Set;function ga(e,t,r,n={}){function a(i){if(n.capture||it.call(t,i),!i.cancelBubble)return _n(()=>r==null?void 0:r.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?un(()=>{t.addEventListener(e,a,n)}):t.addEventListener(e,a,n),a}function X(e,t,r,n,a){var i={capture:n,passive:a},l=ga(e,t,r,i);(t===document.body||t===window||t===document)&&en(()=>{t.removeEventListener(e,l,i)})}function ma(e){for(var t=0;t<e.length;t++)pn.add(e[t]);for(var r of or)r(e)}function it(e){var O;var t=this,r=t.ownerDocument,n=e.type,a=((O=e.composedPath)==null?void 0:O.call(e))||[],i=a[0]||e.target,l=0,v=e.__root;if(v){var d=a.indexOf(v);if(d!==-1&&(t===document||t===window)){e.__root=t;return}var h=a.indexOf(t);if(h===-1)return;d<=h&&(l=d)}if(i=a[l]||e.target,i!==t){Dr(e,"currentTarget",{configurable:!0,get(){return i||r}});var E=z,u=q;Le(null),pe(null);try{for(var p,b=[];i!==null;){var x=i.assignedSlot||i.parentNode||i.host||null;try{var L=i["__"+n];if(L!==void 0&&!i.disabled)if($r(L)){var[A,...V]=L;A.apply(i,[e,...V])}else L.call(i,e)}catch($){p?b.push($):p=$}if(e.cancelBubble||x===t||x===null)break;i=x}if(p){for(let $ of b)queueMicrotask(()=>{throw $});throw p}}finally{e.__root=t,delete e.currentTarget,Le(E),pe(u)}}}function ya(e){var t=document.createElement("template");return t.innerHTML=e,t.content}function Bt(e,t){var r=q;r.nodes_start===null&&(r.nodes_start=e,r.nodes_end=t)}function oe(e,t){var r=(t&zn)!==0,n=(t&Un)!==0,a,i=!e.startsWith("<!>");return()=>{a===void 0&&(a=ya(i?e:"<!>"+e),r||(a=Lt(a)));var l=n?document.importNode(a,!0):a.cloneNode(!0);if(r){var v=Lt(l),d=l.lastChild;Bt(v,d)}else Bt(l,l);return l}}function ba(e=""){{var t=_r(e+"");return Bt(t,t),t}}function wa(){var e=document.createDocumentFragment(),t=document.createComment(""),r=_r();return e.append(t,r),Bt(t,r),e}function ee(e,t){e!==null&&e.before(t)}function ae(e,t){var r=t==null?"":typeof t=="object"?t+"":t;r!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=r,e.nodeValue=r==null?"":r+"")}function ka(e,t){return Ea(e,t)}const He=new Map;function Ea(e,{target:t,anchor:r,props:n={},events:a,context:i,intro:l=!0}){Kn();var v=new Set,d=u=>{for(var p=0;p<u.length;p++){var b=u[p];if(!v.has(b)){v.add(b);var x=_a(b);t.addEventListener(b,it,{passive:x});var L=He.get(b);L===void 0?(document.addEventListener(b,it,{passive:x}),He.set(b,1)):He.set(b,L+1)}}};d(vr(pn)),or.add(d);var h=void 0,E=Qn(()=>{var u=r??t.appendChild(_r());return Ge(()=>{if(i){gt({});var p=W;p.c=i}a&&(n.$$events=a),h=e(u,n)||{},i&&mt()}),()=>{var x;for(var p of v){t.removeEventListener(p,it);var b=He.get(p);--b===0?(document.removeEventListener(p,it),He.delete(p)):He.set(p,b)}or.delete(d),u!==r&&((x=u.parentNode)==null||x.removeChild(u))}});return Ma.set(h,E),h}let Ma=new WeakMap;function Oe(e,t,r=!1){var n=e,a=null,i=null,l=Wn,v=r?qt:0,d=!1;const h=(u,p=!0)=>{d=!0,E(p,u)},E=(u,p)=>{l!==(l=u)&&(l?(a?Ft(a):p&&(a=Ge(()=>p(n))),i&&Nt(i,()=>{i=null})):(i?Ft(i):p&&(i=Ge(()=>p(n))),a&&Nt(a,()=>{a=null})))};Ut(()=>{d=!1,t(h),d||E(null,null)},v)}function xa(e,t){return t}function Sa(e,t,r,n){for(var a=[],i=t.length,l=0;l<i;l++)gr(t[l].e,a,!0);var v=i>0&&a.length===0&&r!==null;if(v){var d=r.parentNode;Yn(d),d.append(r),n.clear(),Ae(e,t[0].prev,t[i-1].next)}sn(a,()=>{for(var h=0;h<i;h++){var E=t[h];v||(n.delete(E.k),Ae(e,E.prev,E.next)),Me(E.e,!v)}})}function Ca(e,t,r,n,a,i=null){var l=e,v={flags:t,items:new Map,first:null},d=null,h=!1,E=Pt(()=>{var u=r();return $r(u)?u:u==null?[]:vr(u)});Ut(()=>{var u=c(E),p=u.length;if(!(h&&p===0)){h=p===0;{var b=z;Ta(u,v,l,a,t,(b.f&he)!==0,n,r)}i!==null&&(p===0?d?Ft(d):d=Ge(()=>i(l)):d!==null&&Nt(d,()=>{d=null})),c(E)}})}function Ta(e,t,r,n,a,i,l,v){var d=e.length,h=t.items,E=t.first,u=E,p,b=null,x=[],L=[],A,V,O,$;for($=0;$<d;$+=1){if(A=e[$],V=l(A,$),O=h.get(V),O===void 0){var Z=u?u.e.nodes_start:r;b=Oa(Z,t,b,b===null?t.first:b.next,A,V,$,n,a,v),h.set(V,b),x=[],L=[],u=b.next;continue}if(Aa(O,A,$),O.e.f&he&&Ft(O.e),O!==u){if(p!==void 0&&p.has(O)){if(x.length<L.length){var D=L[0],H;b=D.prev;var ne=x[0],te=x[x.length-1];for(H=0;H<x.length;H+=1)Tr(x[H],D,r);for(H=0;H<L.length;H+=1)p.delete(L[H]);Ae(t,ne.prev,te.next),Ae(t,b,ne),Ae(t,te,D),u=D,b=te,$-=1,x=[],L=[]}else p.delete(O),Tr(O,u,r),Ae(t,O.prev,O.next),Ae(t,O,b===null?t.first:b.next),Ae(t,b,O),b=O;continue}for(x=[],L=[];u!==null&&u.k!==V;)(i||!(u.e.f&he))&&(p??(p=new Set)).add(u),L.push(u),u=u.next;if(u===null)continue;O=u}x.push(O),b=O,u=O.next}if(u!==null||p!==void 0){for(var ie=p===void 0?[]:vr(p);u!==null;)(i||!(u.e.f&he))&&ie.push(u),u=u.next;var ve=ie.length;if(ve>0){var Ce=null;Sa(t,ie,Ce,h)}}q.first=t.first&&t.first.e,q.last=b&&b.e}function Aa(e,t,r,n){It(e.v,t),e.i=r}function Oa(e,t,r,n,a,i,l,v,d,h){var E=(d&Dn)!==0,u=(d&Bn)===0,p=E?u?hr(a):Ot(a):a,b=d&Rn?Ot(l):l,x={i:b,v:p,k:i,a:null,e:null,prev:r,next:n};try{return x.e=Ge(()=>v(e,p,b,h),Kr),x.e.prev=r&&r.e,x.e.next=n&&n.e,r===null?t.first=x:(r.next=x,r.e.next=x.e),n!==null&&(n.prev=x,n.e.prev=x.e),x}finally{}}function Tr(e,t,r){for(var n=e.next?e.next.e.nodes_start:r,a=t?t.e.nodes_start:r,i=e.e.nodes_start;i!==n;){var l=jt(i);a.before(i),i=l}}function Ae(e,t,r){t===null?e.first=r:(t.next=r,t.e.next=r&&r.e),r!==null&&(r.prev=t,r.e.prev=t&&t.e)}function Ia(e,t,...r){var n=e,a=Re,i;Ut(()=>{a!==(a=t())&&(i&&(Me(i),i=null),i=Ge(()=>a(n,...r)))},qt)}function La(e,t){var r=e.__attributes??(e.__attributes={});r.value===(r.value=t??void 0)||e.value===t&&(t!==0||e.nodeName!=="PROGRESS")||(e.value=t??"")}function Ar(e,t){var r=e.__attributes??(e.__attributes={});r.checked!==(r.checked=t??void 0)&&(e.checked=t)}function Mt(e,t,r,n){var a=e.__attributes??(e.__attributes={});a[t]!==(a[t]=r)&&(t==="style"&&"__styles"in e&&(e.__styles={}),t==="loading"&&(e[Tn]=r),r==null?e.removeAttribute(t):typeof r!="string"&&Pa(e).includes(t)?e[t]=r:e.setAttribute(t,r))}var Or=new Map;function Pa(e){var t=Or.get(e.nodeName);if(t)return t;Or.set(e.nodeName,t=[]);for(var r,n=e,a=Element.prototype;a!==n;){r=Rr(n);for(var i in r)r[i].set&&t.push(i);n=Br(n)}return t}function Ir(e,t,r){var n=e.__className,a=Na(t);(n!==a||Kr)&&(t==null?e.removeAttribute("class"):e.className=a,e.__className=a)}function Na(e,t){return(e??"")+""}function Fa(e,t,r){if(r){if(e.classList.contains(t))return;e.classList.add(t)}else{if(!e.classList.contains(t))return;e.classList.remove(t)}}function $a(e,t,r=t){var n=pt();yr(e,"input",a=>{var i=a?e.defaultValue:e.value;if(i=Zt(e)?Gt(i):i,r(i),n&&i!==(i=t())){var l=e.selectionStart,v=e.selectionEnd;e.value=i??"",v!==null&&(e.selectionStart=l,e.selectionEnd=Math.min(v,e.value.length))}}),ce(t)==null&&e.value&&r(Zt(e)?Gt(e.value):e.value),et(()=>{var a=t();Zt(e)&&a===Gt(e.value)||e.type==="date"&&!a&&!e.value||a!==e.value&&(e.value=a??"")})}function Da(e,t,r=t){yr(e,"change",n=>{var a=n?e.defaultChecked:e.checked;r(a)}),ce(t)==null&&r(e.checked),et(()=>{var n=t();e.checked=!!n})}function Zt(e){var t=e.type;return t==="number"||t==="range"}function Gt(e){return e===""?null:+e}function gn(e,t,r){if(e.multiple)return qa(e,t);for(var n of e.options){var a=ct(n);if(Hn(a,t)){n.selected=!0;return}}(!r||t!==void 0)&&(e.selectedIndex=-1)}function Ra(e,t){_t(()=>{var r=new MutationObserver(()=>{var n=e.__value;gn(e,n)});return r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),()=>{r.disconnect()}})}function Ba(e,t,r=t){var n=!0;yr(e,"change",a=>{var i=a?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(i),ct);else{var v=e.querySelector(i)??e.querySelector("option:not([disabled])");l=v&&ct(v)}r(l)}),_t(()=>{var a=t();if(gn(e,a,n),n&&a===void 0){var i=e.querySelector(":checked");i!==null&&(a=ct(i),r(a))}e.__value=a,n=!1}),Ra(e)}function qa(e,t){for(var r of e.options)r.selected=~t.indexOf(ct(r))}function ct(e){return"__value"in e?e.__value:e.value}function Lr(e,t){return e===t||(e==null?void 0:e[Ze])===t}function Ie(e={},t,r,n){return _t(()=>{var a,i;return et(()=>{a=i,i=[],ce(()=>{e!==r(...i)&&(t(e,...i),a&&Lr(r(...a),e)&&t(null,...a))})}),()=>{un(()=>{i&&Lr(r(...i),e)&&t(null,...i)})}}),e}function st(e){return function(...t){var r=t[0];return r.preventDefault(),e==null?void 0:e.apply(this,t)}}function br(e=!1){const t=W,r=t.l.u;if(!r)return;let n=()=>da(t.s);if(e){let a=0,i={};const l=zt(()=>{let v=!1;const d=t.s;for(const h in d)d[h]!==i[h]&&(i[h]=d[h],v=!0);return v&&a++,a});n=()=>c(l)}r.b.length&&Jn(()=>{Pr(t,n),Xt(r.b)}),Mr(()=>{const a=ce(()=>r.m.map(Mn));return()=>{for(const i of a)typeof i=="function"&&i()}}),r.a.length&&Mr(()=>{Pr(t,n),Xt(r.a)})}function Pr(e,t){if(e.l.s)for(const r of e.l.s)c(r);t()}function mn(e,t,r){if(e==null)return t(void 0),Re;const n=ce(()=>e.subscribe(t,r));return n.unsubscribe?()=>n.unsubscribe():n}const Ke=[];function lt(e,t=Re){let r=null;const n=new Set;function a(v){if(Wr(e,v)&&(e=v,r)){const d=!Ke.length;for(const h of n)h[1](),Ke.push(h,e);if(d){for(let h=0;h<Ke.length;h+=2)Ke[h][0](Ke[h+1]);Ke.length=0}}}function i(v){a(v(e))}function l(v,d=Re){const h=[v,d];return n.add(h),n.size===1&&(r=t(a,i)||Re),v(e),()=>{n.delete(h),n.size===0&&r&&(r(),r=null)}}return{set:a,update:i,subscribe:l}}function ja(e){let t;return mn(e,r=>t=r)(),t}let xt=!1,ir=Symbol();function Y(e,t,r){const n=r[t]??(r[t]={store:null,source:hr(void 0),unsubscribe:Re});if(n.store!==e&&!(ir in r))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=Re;else{var a=!0;n.unsubscribe=mn(e,i=>{a?n.source.v=i:B(n.source,i)}),a=!1}return e&&ir in r?ja(e):c(n.source)}function yn(e,t){return e.set(t),t}function Kt(){const e={};function t(){en(()=>{for(var r in e)e[r].unsubscribe();Dr(e,ir,{enumerable:!1,value:!0})})}return[e,t]}function Nr(e,t,r){return e.set(r),t}function za(e){var t=xt;try{return xt=!1,[e(),xt]}finally{xt=t}}function Ua(e){for(var t=q,r=q;t!==null&&!(t.f&(ge|Je));)t=t.parent;try{return pe(t),e()}finally{pe(r)}}function Jt(e,t,r,n){var p;var a=(r&qn)!==0,i=!ht||(r&jn)!==0;za(()=>e[t]);var l=Ze in e||Cn in e;((p=Qt(e,t))==null?void 0:p.set)??(l&&t in e);var v=n,d=!0,h=()=>(d&&(d=!1,v=n),v),E;if(i)E=()=>{var b=e[t];return b===void 0?h():(d=!0,b)};else{var u=Ua(()=>(a?zt:Pt)(()=>e[t]));u.f|=jr,E=()=>{var b=c(u);return b!==void 0&&(v=void 0),b===void 0?v:b}}return E}const Wa="5";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Wa);$n();function Se(e,t){const r=sessionStorage.getItem(e),n=r?JSON.parse(r):t,a=lt(n);return a.subscribe(i=>{sessionStorage.setItem(e,JSON.stringify(i))}),a}const ft=Se("attempts",3),sr=Se("font","mono"),lr=Se("isHiragana",!1),ur=Se("mute",!1),cr=Se("displayScore",!1),Fr=Se("askAgain",!1);Se("popupTime",500);const Ct=Se("characterFilter",{standard:!0,voiced:!1,compound:!1}),Va=window.matchMedia("(prefers-color-scheme: dark)"),fr=Se("isDarkMode",Va.matches),Ha={ア:"a",イ:"i",ウ:"u",エ:"e",オ:"o",カ:"ka",キ:"ki",ク:"ku",ケ:"ke",コ:"ko",サ:"sa",シ:"shi",ス:"su",セ:"se",ソ:"so",タ:"ta",チ:"chi",ツ:"tsu",テ:"te",ト:"to",ナ:"na",ニ:"ni",ヌ:"nu",ネ:"ne",ノ:"no",ハ:"ha",ヒ:"hi",フ:"fu",ヘ:"he",ホ:"ho",マ:"ma",ミ:"mi",ム:"mu",メ:"me",モ:"mo",ヤ:"ya",ユ:"yu",ヨ:"yo",ラ:"ra",リ:"ri",ル:"ru",レ:"re",ロ:"ro",ワ:"wa",ヲ:"wo",ン:"n"},Ka={ガ:"ga",ギ:"gi",グ:"gu",ゲ:"ge",ゴ:"go",ザ:"za",ジ:"ji",ズ:"zu",ゼ:"ze",ゾ:"zo",ダ:"da",ヂ:"ji",ヅ:"zu",デ:"de",ド:"do",バ:"ba",ビ:"bi",ブ:"bu",ベ:"be",ボ:"bo",パ:"pa",ピ:"pi",プ:"pu",ペ:"pe",ポ:"po"},Ya={キャ:"kya",キュ:"kyu",キョ:"kyo",シャ:"sha",シュ:"shu",ショ:"sho",チャ:"cha",チュ:"chu",チョ:"cho",ニャ:"nya",ニュ:"nyu",ニョ:"nyo",ヒャ:"hya",ヒュ:"hyu",ヒョ:"hyo",ミャ:"mya",ミュ:"myu",ミョ:"myo",リャ:"rya",リュ:"ryu",リョ:"ryo",ギャ:"gya",ギュ:"gyu",ギョ:"gyo",ジャ:"ja",ジュ:"ju",ジョ:"jo",ビャ:"bya",ビュ:"byu",ビョ:"byo",ピャ:"pya",ピュ:"pyu",ピョ:"pyo"},Za={standard:Ha,voiced:Ka,compound:Ya},Ga={あ:"a",い:"i",う:"u",え:"e",お:"o",か:"ka",き:"ki",く:"ku",け:"ke",こ:"ko",さ:"sa",し:"shi",す:"su",せ:"se",そ:"so",た:"ta",ち:"chi",つ:"tsu",て:"te",と:"to",な:"na",に:"ni",ぬ:"nu",ね:"ne",の:"no",は:"ha",ひ:"hi",ふ:"fu",へ:"he",ほ:"ho",ま:"ma",み:"mi",む:"mu",め:"me",も:"mo",や:"ya",ゆ:"yu",よ:"yo",ら:"ra",り:"ri",る:"ru",れ:"re",ろ:"ro",わ:"wa",を:"wo",ん:"n"},Ja={が:"ga",ぎ:"gi",ぐ:"gu",げ:"ge",ご:"go",ざ:"za",じ:"ji",ず:"zu",ぜ:"ze",ぞ:"zo",だ:"da",ぢ:"ji",づ:"zu",で:"de",ど:"do",ば:"ba",び:"bi",ぶ:"bu",べ:"be",ぼ:"bo",ぱ:"pa",ぴ:"pi",ぷ:"pu",ぺ:"pe",ぽ:"po"},Qa={きゃ:"kya",きゅ:"kyu",きょ:"kyo",しゃ:"sha",しゅ:"shu",しょ:"sho",ちゃ:"cha",ちゅ:"chu",ちょ:"cho",にゃ:"nya",にゅ:"nyu",にょ:"nyo",ひゃ:"hya",ひゅ:"hyu",ひょ:"hyo",みゃ:"mya",みゅ:"myu",みょ:"myo",りゃ:"rya",りゅ:"ryu",りょ:"ryo",ぎゃ:"gya",ぎゅ:"gyu",ぎょ:"gyo",じゃ:"ja",じゅ:"ju",じょ:"jo",びゃ:"bya",びゅ:"byu",びょ:"byo",ぴゃ:"pya",ぴゅ:"pyu",ぴょ:"pyo"},Xa={standard:Ga,voiced:Ja,compound:Qa};var eo=oe('<div class="score-card"><h3>Scorecard</h3> <p> </p> <p> </p> <p> </p> <p> </p></div>');function to(e,t){gt(t,!1);let r=Jt(t,"totalCharacters",8),n=Jt(t,"currentCharacter",8),a=Jt(t,"incorrectCount",8);br();var i=eo(),l=I(N(i),2),v=N(l),d=I(l,2),h=N(d),E=I(d,2),u=N(E),p=I(E,2),b=N(p);de(()=>{var x,L,A,V;ae(v,`total: ${((x=r())==null?void 0:x.length)??""}`),ae(h,`remain: ${((L=r())==null?void 0:L.length)-n()}`),ae(u,`incorrect: ${((A=a())==null?void 0:A.length)??""}`),ae(b,`correct: ${n()-((V=a())==null?void 0:V.length)}`)}),ee(e,i),mt()}var yt={};(function e(t,r,n,a){var i=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),l=typeof Path2D=="function"&&typeof DOMMatrix=="function",v=function(){if(!t.OffscreenCanvas)return!1;var s=new OffscreenCanvas(1,1),o=s.getContext("2d");o.fillRect(0,0,1,1);var k=s.transferToImageBitmap();try{o.createPattern(k,"no-repeat")}catch{return!1}return!0}();function d(){}function h(s){var o=r.exports.Promise,k=o!==void 0?o:t.Promise;return typeof k=="function"?new k(s):(s(d,d),null)}var E=function(s,o){return{transform:function(k){if(s)return k;if(o.has(k))return o.get(k);var M=new OffscreenCanvas(k.width,k.height),g=M.getContext("2d");return g.drawImage(k,0,0),o.set(k,M),M},clear:function(){o.clear()}}}(v,new Map),u=function(){var s=Math.floor(16.666666666666668),o,k,M={},g=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(o=function(_){var y=Math.random();return M[y]=requestAnimationFrame(function m(f){g===f||g+s-1<f?(g=f,delete M[y],_()):M[y]=requestAnimationFrame(m)}),y},k=function(_){M[_]&&cancelAnimationFrame(M[_])}):(o=function(_){return setTimeout(_,s)},k=function(_){return clearTimeout(_)}),{frame:o,cancel:k}}(),p=function(){var s,o,k={};function M(g){function _(y,m){g.postMessage({options:y||{},callback:m})}g.init=function(m){var f=m.transferControlToOffscreen();g.postMessage({canvas:f},[f])},g.fire=function(m,f,w){if(o)return _(m,null),o;var S=Math.random().toString(36).slice(2);return o=h(function(C){function P(j){j.data.callback===S&&(delete k[S],g.removeEventListener("message",P),o=null,E.clear(),w(),C())}g.addEventListener("message",P),_(m,S),k[S]=P.bind(null,{data:{callback:S}})}),o},g.reset=function(){g.postMessage({reset:!0});for(var m in k)k[m](),delete k[m]}}return function(){if(s)return s;if(!n&&i){var g=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{s=new Worker(URL.createObjectURL(new Blob([g])))}catch(_){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn("🎊 Could not load worker",_),null}M(s)}return s}}(),b={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function x(s,o){return o?o(s):s}function L(s){return s!=null}function A(s,o,k){return x(s&&L(s[o])?s[o]:b[o],k)}function V(s){return s<0?0:Math.floor(s)}function O(s,o){return Math.floor(Math.random()*(o-s))+s}function $(s){return parseInt(s,16)}function Z(s){return s.map(D)}function D(s){var o=String(s).replace(/[^0-9a-f]/gi,"");return o.length<6&&(o=o[0]+o[0]+o[1]+o[1]+o[2]+o[2]),{r:$(o.substring(0,2)),g:$(o.substring(2,4)),b:$(o.substring(4,6))}}function H(s){var o=A(s,"origin",Object);return o.x=A(o,"x",Number),o.y=A(o,"y",Number),o}function ne(s){s.width=document.documentElement.clientWidth,s.height=document.documentElement.clientHeight}function te(s){var o=s.getBoundingClientRect();s.width=o.width,s.height=o.height}function ie(s){var o=document.createElement("canvas");return o.style.position="fixed",o.style.top="0px",o.style.left="0px",o.style.pointerEvents="none",o.style.zIndex=s,o}function ve(s,o,k,M,g,_,y,m,f){s.save(),s.translate(o,k),s.rotate(_),s.scale(M,g),s.arc(0,0,1,y,m,f),s.restore()}function Ce(s){var o=s.angle*(Math.PI/180),k=s.spread*(Math.PI/180);return{x:s.x,y:s.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:s.startVelocity*.5+Math.random()*s.startVelocity,angle2D:-o+(.5*k-Math.random()*k),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:s.color,shape:s.shape,tick:0,totalTicks:s.ticks,decay:s.decay,drift:s.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:s.gravity*3,ovalScalar:.6,scalar:s.scalar,flat:s.flat}}function je(s,o){o.x+=Math.cos(o.angle2D)*o.velocity+o.drift,o.y+=Math.sin(o.angle2D)*o.velocity+o.gravity,o.velocity*=o.decay,o.flat?(o.wobble=0,o.wobbleX=o.x+10*o.scalar,o.wobbleY=o.y+10*o.scalar,o.tiltSin=0,o.tiltCos=0,o.random=1):(o.wobble+=o.wobbleSpeed,o.wobbleX=o.x+10*o.scalar*Math.cos(o.wobble),o.wobbleY=o.y+10*o.scalar*Math.sin(o.wobble),o.tiltAngle+=.1,o.tiltSin=Math.sin(o.tiltAngle),o.tiltCos=Math.cos(o.tiltAngle),o.random=Math.random()+2);var k=o.tick++/o.totalTicks,M=o.x+o.random*o.tiltCos,g=o.y+o.random*o.tiltSin,_=o.wobbleX+o.random*o.tiltCos,y=o.wobbleY+o.random*o.tiltSin;if(s.fillStyle="rgba("+o.color.r+", "+o.color.g+", "+o.color.b+", "+(1-k)+")",s.beginPath(),l&&o.shape.type==="path"&&typeof o.shape.path=="string"&&Array.isArray(o.shape.matrix))s.fill(Pe(o.shape.path,o.shape.matrix,o.x,o.y,Math.abs(_-M)*.1,Math.abs(y-g)*.1,Math.PI/10*o.wobble));else if(o.shape.type==="bitmap"){var m=Math.PI/10*o.wobble,f=Math.abs(_-M)*.1,w=Math.abs(y-g)*.1,S=o.shape.bitmap.width*o.scalar,C=o.shape.bitmap.height*o.scalar,P=new DOMMatrix([Math.cos(m)*f,Math.sin(m)*f,-Math.sin(m)*w,Math.cos(m)*w,o.x,o.y]);P.multiplySelf(new DOMMatrix(o.shape.matrix));var j=s.createPattern(E.transform(o.shape.bitmap),"no-repeat");j.setTransform(P),s.globalAlpha=1-k,s.fillStyle=j,s.fillRect(o.x-S/2,o.y-C/2,S,C),s.globalAlpha=1}else if(o.shape==="circle")s.ellipse?s.ellipse(o.x,o.y,Math.abs(_-M)*o.ovalScalar,Math.abs(y-g)*o.ovalScalar,Math.PI/10*o.wobble,0,2*Math.PI):ve(s,o.x,o.y,Math.abs(_-M)*o.ovalScalar,Math.abs(y-g)*o.ovalScalar,Math.PI/10*o.wobble,0,2*Math.PI);else if(o.shape==="star")for(var T=Math.PI/2*3,F=4*o.scalar,R=8*o.scalar,U=o.x,K=o.y,G=5,J=Math.PI/G;G--;)U=o.x+Math.cos(T)*R,K=o.y+Math.sin(T)*R,s.lineTo(U,K),T+=J,U=o.x+Math.cos(T)*F,K=o.y+Math.sin(T)*F,s.lineTo(U,K),T+=J;else s.moveTo(Math.floor(o.x),Math.floor(o.y)),s.lineTo(Math.floor(o.wobbleX),Math.floor(g)),s.lineTo(Math.floor(_),Math.floor(y)),s.lineTo(Math.floor(M),Math.floor(o.wobbleY));return s.closePath(),s.fill(),o.tick<o.totalTicks}function rt(s,o,k,M,g){var _=o.slice(),y=s.getContext("2d"),m,f,w=h(function(S){function C(){m=f=null,y.clearRect(0,0,M.width,M.height),E.clear(),g(),S()}function P(){n&&!(M.width===a.width&&M.height===a.height)&&(M.width=s.width=a.width,M.height=s.height=a.height),!M.width&&!M.height&&(k(s),M.width=s.width,M.height=s.height),y.clearRect(0,0,M.width,M.height),_=_.filter(function(j){return je(y,j)}),_.length?m=u.frame(P):C()}m=u.frame(P),f=C});return{addFettis:function(S){return _=_.concat(S),w},canvas:s,promise:w,reset:function(){m&&u.cancel(m),f&&f()}}}function me(s,o){var k=!s,M=!!A(o||{},"resize"),g=!1,_=A(o,"disableForReducedMotion",Boolean),y=i&&!!A(o||{},"useWorker"),m=y?p():null,f=k?ne:te,w=s&&m?!!s.__confetti_initialized:!1,S=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,C;function P(T,F,R){for(var U=A(T,"particleCount",V),K=A(T,"angle",Number),G=A(T,"spread",Number),J=A(T,"startVelocity",Number),We=A(T,"decay",Number),nt=A(T,"gravity",Number),be=A(T,"drift",Number),bt=A(T,"colors",Z),Fe=A(T,"ticks",Number),Te=A(T,"shapes"),wt=A(T,"scalar"),at=!!A(T,"flat"),kt=H(T),Ve=U,ot=[],bn=s.width*kt.x,wn=s.height*kt.y;Ve--;)ot.push(Ce({x:bn,y:wn,angle:K,spread:G,startVelocity:J,color:bt[Ve%bt.length],shape:Te[O(0,Te.length)],ticks:Fe,decay:We,gravity:nt,drift:be,scalar:wt,flat:at}));return C?C.addFettis(ot):(C=rt(s,ot,f,F,R),C.promise)}function j(T){var F=_||A(T,"disableForReducedMotion",Boolean),R=A(T,"zIndex",Number);if(F&&S)return h(function(J){J()});k&&C?s=C.canvas:k&&!s&&(s=ie(R),document.body.appendChild(s)),M&&!w&&f(s);var U={width:s.width,height:s.height};m&&!w&&m.init(s),w=!0,m&&(s.__confetti_initialized=!0);function K(){if(m){var J={getBoundingClientRect:function(){if(!k)return s.getBoundingClientRect()}};f(J),m.postMessage({resize:{width:J.width,height:J.height}});return}U.width=U.height=null}function G(){C=null,M&&(g=!1,t.removeEventListener("resize",K)),k&&s&&(document.body.contains(s)&&document.body.removeChild(s),s=null,w=!1)}return M&&!g&&(g=!0,t.addEventListener("resize",K,!1)),m?m.fire(T,U,G):P(T,U,G)}return j.reset=function(){m&&m.reset(),C&&C.reset()},j}var ye;function ze(){return ye||(ye=me(null,{useWorker:!0,resize:!0})),ye}function Pe(s,o,k,M,g,_,y){var m=new Path2D(s),f=new Path2D;f.addPath(m,new DOMMatrix(o));var w=new Path2D;return w.addPath(f,new DOMMatrix([Math.cos(y)*g,Math.sin(y)*g,-Math.sin(y)*_,Math.cos(y)*_,k,M])),w}function Ne(s){if(!l)throw new Error("path confetti are not supported in this browser");var o,k;typeof s=="string"?o=s:(o=s.path,k=s.matrix);var M=new Path2D(o),g=document.createElement("canvas"),_=g.getContext("2d");if(!k){for(var y=1e3,m=y,f=y,w=0,S=0,C,P,j=0;j<y;j+=2)for(var T=0;T<y;T+=2)_.isPointInPath(M,j,T,"nonzero")&&(m=Math.min(m,j),f=Math.min(f,T),w=Math.max(w,j),S=Math.max(S,T));C=w-m,P=S-f;var F=10,R=Math.min(F/C,F/P);k=[R,0,0,R,-Math.round(C/2+m)*R,-Math.round(P/2+f)*R]}return{type:"path",path:o,matrix:k}}function Ue(s){var o,k=1,M="#000000",g='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof s=="string"?o=s:(o=s.text,k="scalar"in s?s.scalar:k,g="fontFamily"in s?s.fontFamily:g,M="color"in s?s.color:M);var _=10*k,y=""+_+"px "+g,m=new OffscreenCanvas(_,_),f=m.getContext("2d");f.font=y;var w=f.measureText(o),S=Math.ceil(w.actualBoundingBoxRight+w.actualBoundingBoxLeft),C=Math.ceil(w.actualBoundingBoxAscent+w.actualBoundingBoxDescent),P=2,j=w.actualBoundingBoxLeft+P,T=w.actualBoundingBoxAscent+P;S+=P+P,C+=P+P,m=new OffscreenCanvas(S,C),f=m.getContext("2d"),f.font=y,f.fillStyle=M,f.fillText(o,j,T);var F=1/k;return{type:"bitmap",bitmap:m.transferToImageBitmap(),matrix:[F,0,0,F,-S*F/2,-C*F/2]}}r.exports=function(){return ze().apply(this,arguments)},r.exports.reset=function(){ze().reset()},r.exports.create=me,r.exports.shapeFromPath=Ne,r.exports.shapeFromText=Ue})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),yt,!1);const ro=yt.exports;yt.exports.create;var no=oe("<p>Want to make it harder? Try with less attempts!:</p> <button>Play Again with less attempts</button>",1),ao=oe(`<h1>Congratulations, you got everything right!</h1> <p>This is Wooper.<br> Wooper is proud of how far you have come and how
          much you have accomplished.</p> <img src="./gif/wooper.gif" alt="wooper" width="50"> <!>`,1),oo=oe("<h1>incorrect guesses:</h1> <p> </p> <button>Play Again With Incorrect Kana</button>",1),io=oe('<div class="ending-screen"><!> <button>Play Again with all Kana</button></div>'),so=oe('<p class="dots"> </p> <form><input type="text" autocorrect="off"></form> <p> </p>',1),lo=oe('<p class="fail">I was <strong> </strong>!</p>'),uo=oe("<h1> </h1> <!>",1),co=oe('<audio src="./audio/correct.wav"></audio> <audio src="./audio/try-again.wav"></audio> <audio src="./audio/failed.wav"></audio> <audio src="./audio/yippee.mp3"></audio> <div class="game"><!> <!></div>',1);function fo(e,t){gt(t,!1);const[r,n]=Kt(),a=()=>Y(lr,"$isHiragana",r),i=()=>Y(Ct,"$characterFilter",r),l=()=>Y(ur,"$mute",r),v=()=>Y(ft,"$attempts",r),d=()=>Y(sr,"$font",r),h=()=>Y(cr,"$displayScore",r);let E=Q(),u=Q(),p=Q(),b=!1,x=Q(),L=Q(),A=Q(),V=Q(),O=Q(),$=Q(),Z=Q(),D=Q(),H=Q(),ne=Q(),te=Q(),ie=Q(),ve=Q([]);function Ce(){b=!0,ro(),b=!1,c(ie).play()}function je(f=!0,w){B(A,f?"Correct!":"Try Again!"),B(V,f),setTimeout(()=>{B(A,"")},500)}function rt(f){for(let w=0;w<f.length;w++){const S=w+Math.floor(Math.random()*(f.length-w));let C=f[S];f[S]=f[w],f[w]=C}return f}function me(f){B(p,rt(f)),B(Z,0),B(D,[]),ye()}function ye(){B($,c(p)[c(Z)]),B(x,""),B(O,v())}function ze(){var f;c(x).toLowerCase()=="nn"&&B(x,"n"),c(x).toLowerCase()===c(E)[c($)].toLowerCase()?(c(H).play(),je(),Yt(Z),ye()):(Yt(O,-1),c(O)==0?(c(te).play(),c(D).push(c($)),setTimeout(ye,800),setTimeout(()=>Yt(Z),500)):(c(ne).play(),je(!1))),c(Z)===((f=c(p))==null?void 0:f.length)&&c(D).length===0&&!b&&Ce(),B(x,""),c(L).focus()}er(()=>(a(),c(E),i(),c(L),c(H),l()),()=>{const f=a()?Xa:Za;if(B(E,Object.assign({},...Object.keys(f).filter(w=>i()[w]).map(w=>f[w]))),B(u,Object.keys(c(E))),c(L)&&c(L).focus(),c(H)){const w=l()?0:1;Et(H,c(H).volume=w),Et(ne,c(ne).volume=w),Et(te,c(te).volume=w),Et(ie,c(ie).volume=l()?0:.05)}}),er(()=>(c(u),c(ve)),()=>{JSON.stringify(c(u))!==JSON.stringify(c(ve))&&(B(ve,[...c(u)]),me(c(u)))}),tn(),br();var Pe=co(),Ne=we(Pe);Ie(Ne,f=>B(H,f),()=>c(H));var Ue=I(Ne,2);Ie(Ue,f=>B(ne,f),()=>c(ne));var s=I(Ue,2);Ie(s,f=>B(te,f),()=>c(te));var o=I(s,2);Ie(o,f=>B(ie,f),()=>c(ie));var k=I(o,2),M=N(k);{var g=f=>{var w=io(),S=N(w);{var C=T=>{var F=ao(),R=I(we(F),6);{var U=K=>{var G=no(),J=I(we(G),2);X("click",J,()=>{ft.set(1),me(c(u))}),ee(K,G)};Oe(R,K=>{v()>1&&K(U)})}ee(T,F)},P=T=>{var F=oo(),R=I(we(F),2),U=N(R),K=I(R,2);de(G=>ae(U,G),[()=>c(D).toString()],Pt),X("click",K,()=>me(c(D))),ee(T,F)};Oe(S,T=>{c(D).length?T(P,!1):T(C)})}var j=I(S,2);X("click",j,()=>me(c(u))),ee(f,w)},_=f=>{var w=uo(),S=we(w),C=N(S),P=I(S,2);{var j=F=>{var R=so(),U=we(R),K=N(U),G=I(U,2),J=N(G);Ie(J,be=>B(L,be),()=>c(L));var We=I(G,2),nt=N(We);de(be=>{ae(K,be),Ir(We,`result ${c(V)}`),ae(nt,c(A))},[()=>Array.from({length:c(O)}).map(()=>"•").join("")],Pt),$a(J,()=>c(x),be=>B(x,be)),X("submit",G,st(ze)),ee(F,R)},T=F=>{var R=lo(),U=I(N(R)),K=N(U);de(()=>ae(K,c(E)[c($)])),ee(F,R)};Oe(P,F=>{c(O)>0?F(j):F(T,!1)})}de(()=>{Ir(S,`${d()??""}-font`),ae(C,c($))}),ee(f,w)};Oe(M,f=>{c(Z)===c(p).length?f(g):f(_,!1)})}var y=I(M,2);{var m=f=>{to(f,{get totalCharacters(){return c(p)},get incorrectCount(){return c(D)},get currentCharacter(){return c(Z)}})};Oe(y,f=>{h()&&f(m)})}ee(e,Pe),mt(),n()}var vo=oe('<button aria-label="overlay" class="overlay"></button> <div class="confirmation"><p class="warning-message"><!></p> <div class="require-confirmation"><label for="require-confirmation">Do not ask this again:</label> <input id="require-confirmation" type="checkbox" class="toggle"></div> <div><button>Confirm</button> <button>Cancel</button></div></div>',1);function ho(e,t){gt(t,!0);const[r,n]=Kt(),a=()=>Y(t.display,"$display",r),i=()=>Y(t.notShowAgain,"$notShowAgain",r);var l=wa(),v=we(l);{var d=h=>{var E=vo(),u=we(E);u.__click=()=>t.display.set(!1);var p=I(u,2),b=N(p),x=N(b);Ia(x,()=>t.children);var L=I(b,2),A=I(N(L),2),V=I(L,2),O=N(V);O.__click=()=>{t.result.set(!0),t.display.set(!1)};var $=I(O,2);$.__click=()=>{t.result.set(!1),t.display.set(!1)},Da(A,i,Z=>yn(t.notShowAgain,Z)),ee(h,E)};Oe(v,h=>{a()&&h(d)})}ee(e,l),mt(),n()}ma(["click"]);var _o=oe("<div><!></div>"),po=oe('<div class="include-option"><label> </label> <input type="checkbox" class="toggle"></div>'),go=oe('<div class="settings-popup"><div class="settings-buttons"><button><span class="material-symbols-rounded"> </span></button> <button><span class="material-symbols-rounded"> </span></button></div> <button id="score-button"> </button> <div class="setting-field"><label for="attempts">attempts:</label> <input name="attempts" id="attempts" type="number" inputmode="numeric" pattern="[0-9]*"></div> <div class="setting-field"><label for="font">font:</label> <select><option>mono</option><option>serif</option><option>handwriting</option></select></div> <h4>Script:</h4> <div class="hiragana-toggle"><input type="checkbox" id="is-hiragana-checkbox"> <label for="is-hiragana-checkbox" class="toggle-label"> </label></div> <div class="include-options"><h4>Include:</h4> <!></div></div>'),mo=oe('<!> <div class="settings-container"><button id="display-settings" name="display-settings"><span class="material-symbols-rounded">settings</span></button> <!></div>',1);function yo(e,t){gt(t,!1);const[r,n]=Kt(),a=()=>Y(L,"$displaySettings",r),i=()=>Y(Fr,"$doNotAskAgain",r),l=()=>Y(D,"$result",r),v=()=>Y(Ct,"$characterFilter",r),d=()=>Y(lr,"$isHiragana",r),h=()=>Y($,"$confirmationMsg",r),E=()=>Y(ur,"$mute",r),u=()=>Y(fr,"$isDarkMode",r),p=()=>Y(cr,"$displayScore",r),b=()=>Y(ft,"$attempts",r),x=()=>Y(sr,"$font",r);let L=lt(!1),A=Q(),V=Q(),O=Q(),$=lt(),Z=lt(!1),D=lt(null);const H=5,ne=1;function te(g){const _=g.target;c(A)&&!c(A).contains(_)&&c(V)&&!c(V).contains(_)&&(!c(O)||!c(O).contains(_))&&L.set(!1)}function ie(){ur.update(g=>!g)}function ve(){cr.update(g=>!g)}function Ce(){fr.update(g=>!g)}async function je(g,_){const y=g.target,{checked:m}=y;i()?D.set(!0):(Z.set(!0),D.set(null),$.set(`Are you sure you want to ${m?"enable":"disable"} ${_} characters?
        This will restart your game.`),await new Promise(f=>{const w=D.subscribe(P=>{P!==null&&(w(),f())}),S=P=>{c(O)&&!c(O).contains(P.target)&&D.set(!1)},C=P=>{P.key==="Escape"&&D.set(!1)};document.addEventListener("click",S),document.addEventListener("touchstart",S,{passive:!0}),document.addEventListener("keydown",C,{once:!0}),D.subscribe(P=>{P!==null&&(document.removeEventListener("click",S),document.removeEventListener("touchstart",S),document.removeEventListener("keydown",C))})})),l()===!0?(Nr(Ct,ce(v)[_]=m,ce(v)),Object.values(v()).every(f=>!f)&&(Nr(Ct,ce(v)[_]=!0,ce(v)),y.checked=!m,console.log("TODO: error the user!"))):y.checked=!m,Z.set(!1)}function rt(g){const _=g.target;let y=parseInt(_.value);isNaN(y)||_.value===""||(y>H?(y=H,_.value=y.toString(),console.log("TODO: error the user!")):y<ne&&(y=ne,_.value=y.toString(),console.log("TODO: error the user!")),ft.set(y))}function me(g){const _=g.target;let y=parseInt(_.value);(isNaN(y)||_.value==="")&&(y=ne,_.value=y.toString(),ft.set(y),console.log("TODO: error the user!"))}function ye(g){const _=g.target;_.setAttribute("inputmode","numeric"),_.setAttribute("pattern","[0-9]*")}async function ze(g){const _=g.target,y=_.checked;i()?D.set(!0):(Z.set(!0),D.set(null),$.set(`Are you sure you want to switch to ${y?"hiragana":"katakana"}?
      This will restart your game.`),await new Promise(m=>{const f=D.subscribe(C=>{C!==null&&(f(),m())}),w=C=>{c(O)&&!c(O).contains(C.target)&&D.set(!1)},S=C=>{C.key==="Escape"&&D.set(!1)};document.addEventListener("click",w),document.addEventListener("touchstart",w,{passive:!0}),document.addEventListener("keydown",S,{once:!0}),D.subscribe(C=>{C!==null&&(document.removeEventListener("click",w),document.removeEventListener("touchstart",w),document.removeEventListener("keydown",S))})})),l()===!0?lr.set(y):_.checked=d(),Z.set(!1)}er(()=>a(),()=>{a()?(document.addEventListener("mousedown",te),document.addEventListener("touchstart",te,{passive:!0})):(document.removeEventListener("mousedown",te),document.removeEventListener("touchstart",te))}),tn(),br();var Pe=mo(),Ne=we(Pe);{var Ue=g=>{var _=_o(),y=N(_);ho(y,{result:D,display:Z,notShowAgain:Fr,children:(m,f)=>{var w=ba();de(()=>ae(w,h())),ee(m,w)},$$slots:{default:!0}}),Ie(_,m=>B(O,m),()=>c(O)),ee(g,_)};Oe(Ne,g=>{g(Ue)})}var s=I(Ne,2),o=N(s);Ie(o,g=>B(V,g),()=>c(V));var k=I(o,2);{var M=g=>{var _=go(),y=N(_),m=N(y),f=N(m),w=N(f),S=I(m,2),C=N(S),P=N(C),j=I(y,2),T=N(j),F=I(j,2),R=I(N(F),2);Mt(R,"min",ne),Mt(R,"max",H);var U=I(F,2),K=I(N(U),2);de(()=>{x(),fa(()=>{})});var G=I(U,4),J=N(G),We=I(J,2),nt=N(We),be=I(G,2),bt=I(N(be),2);Ca(bt,1,()=>Object.keys(v()),xa,(Fe,Te)=>{var wt=po(),at=N(wt),kt=N(at),Ve=I(at,2);de(()=>{Mt(at,"for",`${c(Te)??""}-checkbox`),ae(kt,`${c(Te)??""}:`),Mt(Ve,"id",`${c(Te)??""}-checkbox`),Ar(Ve,v()[c(Te)])}),X("change",Ve,ot=>je(ot,c(Te))),ee(Fe,wt)}),Ie(_,Fe=>B(A,Fe),()=>c(A)),de(()=>{ae(w,`volume_${(E()?"off":"up")??""}`),ae(P,`${(u()?"light":"dark")??""}_mode`),ae(T,`${(p()?"hide":"show")??""} score`),La(R,b()),Ar(J,d()),ae(nt,d()?"hiragana":"katakana")}),X("click",m,ie),X("touchend",m,st(ie)),X("click",S,Ce),X("touchend",S,st(Ce)),X("click",j,ve),X("touchend",j,st(ve)),X("input",R,rt),X("blur",R,me),X("focus",R,ye),Ba(K,x,Fe=>yn(sr,Fe)),X("change",J,ze),ee(g,_)};Oe(k,g=>{a()&&g(M)})}X("click",o,()=>L.set(!a())),X("touchend",o,st(()=>L.set(!a()))),ee(e,Pe),mt(),n()}var bo=oe("<main><!> <!></main>");function wo(e){const[t,r]=Kt(),n=()=>Y(fr,"$isDarkMode",t);var a=bo(),i=N(a);yo(i,{});var l=I(i,2);fo(l,{}),de(()=>Fa(a,"dark-mode",n())),ee(e,a),r()}ka(wo,{target:document.getElementById("app")})});export default ko();
